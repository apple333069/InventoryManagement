import{_ as ze,r,A as we,y as Ue,j as c,b as v,d,k as l,e as a,w as t,h as C,l as b,u as e,i as Ne,F as H,q as J,v as y,C as Ze,D as el,m as u,n as ie,E as Ve,G as je,z as Ee,H as Se,I as Ae,J as ll,K as Oe,L as Me,p as tl,M as Re,N as qe,O as Fe}from"./index-DuMLqF1m.js";const al={class:"col-span-1"},nl={class:"col-span-1"},ol={class:"col-span-1"},sl={key:0},il={class:"max-h-96 overflow-auto w-fit"},dl={id:"tableOtherContact",class:"border border-gray-400"},rl={class:"sticky top-0 z-10"},ul={class:"min-w-20 group"},cl={key:1,class:"hidden group-hover:block"},pl=["onMouseover","onMouseleave"],ml={key:0},fl={class:"w-full h-full cursor-pointer flex justify-center"},bl={key:1,class:"grid grid-cols-3"},vl={class:"col-span-1 col-start-2 items-center"},gl={class:"group-hover:hidden"},yl={class:"col-span-1 pt-1.5"},_l={class:"p-4"},kl={key:0},xl={key:1},Tl={id:"tableOtherContact",class:"border border-gray-400"},hl={class:"sticky top-0 z-10"},wl={class:"group"},Vl={class:"min-w-20"},Cl={class:"text-center text-sm"},Dl={class:"p-4"},Nl={class:"dialog-footer"},$l={__name:"ContactInfo",props:{editable:{type:Boolean,required:!0},name:String,phone:String,title:String,otherContactInfo:{type:Array,required:!1}},setup(N){const A=N,{name:p,phone:E,title:D,otherContactInfo:k}=A,V=r(""),T=r(""),P=r(""),g=we([{id:Math.floor(new Date/1e3),contactName:"",contactPhone:"",contactTitle:"",showDelBtn:!1,delBoxVisible:!1,checked:!1}]),h=()=>{const w={id:Math.floor(new Date/1e3),contactName:"",contactPhone:"",contactTitle:"",showDelBtn:!1,delBoxVisible:!1,checked:!1};g.length<=200&&g.push(w)},K=w=>{const i=g.findIndex(B=>B.id==w.id);w.contactName==""&&w.contactPhone==""&&w.contactTitle==""?(w.delBoxVisible=!1,i!==-1&&g.splice(i,1)):w.delBoxVisible=!0},ee=w=>{w.delBoxVisible=!1},X=w=>{const i=g.findIndex(B=>B.id==w.id);i!==-1&&g.splice(i,1)},I=r(!1),L=r(!0),q=r(!1),F=r(!1),ce=r(!1),x=()=>{I.value=!0,L.value=!1},j=()=>{I.value=!1,L.value=!0},z=Ue(()=>{const w=g.filter(i=>i.checked).length;return w>0&&w<g.length}),fe=()=>{g.forEach(w=>{w.checked=q.value})},be=()=>{z?q.value=!1:q.value=!0},_e=()=>{g.filter(i=>i.checked).every(i=>i.contactName==""&&i.contactPhone==""&&i.contactTitle=="")?_():ce.value=!0},_=()=>{for(let w=g.length-1;w>=0;w--)g[w].checked&&g.splice(w,1);ce.value=!1},he=r(null),pe=r(!1),xe=()=>{var w;document.fullscreenElement?(document.exitFullscreen(),pe.value=!1):((w=he.value)==null||w.requestFullscreen(),pe.value=!0)};document.addEventListener("fullscreenchange",()=>{pe.value=!!document.fullscreenElement});const de=()=>{console.log("你在這個table貼上了")};return(w,i)=>{const B=c("el-input"),Te=c("el-form-item"),$e=c("el-form"),ve=c("el-checkbox"),le=c("el-tooltip"),te=c("el-button"),Q=c("el-popconfirm"),G=c("el-dropdown-item"),ae=c("el-dropdown-menu"),Y=c("el-dropdown"),ne=c("el-divider"),re=c("el-dialog");return d(),v("div",null,[l($e,{"label-position":"top",class:"grid grid-cols-3 xl:grid-cols-3 gap-8"},{default:t(()=>[a("div",al,[l(Te,{label:"聯繫人姓名",required:!1},{default:t(()=>[N.editable?(d(),C(B,{key:0,class:"w-full",modelValue:e(V),"onUpdate:modelValue":i[0]||(i[0]=f=>b(V)?V.value=f:null)},null,8,["modelValue"])):(d(),C(B,{key:1,disabled:"",modelValue:e(p),"onUpdate:modelValue":i[1]||(i[1]=f=>b(p)?p.value=f:null),class:"w-full"},null,8,["modelValue"]))]),_:1})]),a("div",nl,[l(Te,{label:"聯繫人手機",required:!1},{default:t(()=>[N.editable?(d(),C(B,{key:0,class:"w-full",modelValue:e(T),"onUpdate:modelValue":i[2]||(i[2]=f=>b(T)?T.value=f:null)},null,8,["modelValue"])):(d(),C(B,{key:1,disabled:"",class:"w-full",modelValue:e(E),"onUpdate:modelValue":i[3]||(i[3]=f=>b(E)?E.value=f:null)},null,8,["modelValue"]))]),_:1})]),a("div",ol,[l(Te,{label:"聯繫人職位",required:!1},{default:t(()=>[N.editable?(d(),C(B,{key:0,placeholder:"",class:"w-full",modelValue:e(P),"onUpdate:modelValue":i[4]||(i[4]=f=>b(P)?P.value=f:null)},null,8,["modelValue"])):(d(),C(B,{key:1,placeholder:"",class:"w-full",modelValue:e(D),"onUpdate:modelValue":i[5]||(i[5]=f=>b(D)?D.value=f:null),disabled:""},null,8,["modelValue"]))]),_:1})])]),_:1}),i[32]||(i[32]=a("h3",{class:"text-gray-600 text-sm mb-2"},"其他聯繫人資料",-1)),N.editable?(d(),v("section",sl,[a("div",il,[a("table",dl,[a("thead",rl,[a("tr",null,[a("th",ul,[e(I)?(d(),C(ve,{key:0,modelValue:e(q),"onUpdate:modelValue":i[6]||(i[6]=f=>b(q)?q.value=f:null),onChange:fe},null,8,["modelValue"])):(d(),v("div",cl,[l(le,{class:"box-item hidden",effect:"dark",content:"大量刪除",placement:"top-start"},{default:t(()=>[e(g).length>0?(d(),v("button",{key:0,class:"hidden group-hover:block hover:text-red-500 transition-opacity duration-100 mx-auto",onClick:x},[...i[11]||(i[11]=[a("i",{class:"ri-delete-bin-6-line"},null,-1)])])):Ne("",!0)]),_:1})]))]),i[12]||(i[12]=a("th",{class:"min-w-48"},"聯繫人姓名",-1)),i[13]||(i[13]=a("th",{class:"min-w-48"},"聯繫人電話",-1)),i[14]||(i[14]=a("th",{class:"min-w-48"},"聯繫人職位",-1))])]),a("tbody",null,[(d(!0),v(H,null,J(e(g),(f,U)=>(d(),v("tr",{key:f.id,class:"group duration-100",onMouseover:n=>f.showDelBtn=!0,onMouseleave:n=>f.showDelBtn=!1},[a("td",null,[e(I)?(d(),v("div",ml,[a("label",fl,[l(ve,{modelValue:f.checked,"onUpdate:modelValue":n=>f.checked=n,onChange:be},null,8,["modelValue","onUpdate:modelValue"])])])):(d(),v("div",bl,[a("div",vl,[a("p",gl,y(U+1),1),l(Q,{title:"該條記錄存在資料，資料刪除後將無法復原，確定刪除?","confirm-button-text":"刪除","cancel-button-text":"取消","confirm-button-type":"danger",onConfirm:n=>X(f),onCancel:n=>ee(f),width:"220px"},{reference:t(()=>[Ze(l(te,{type:"danger",link:"",onClick:n=>K(f)},{default:t(()=>[...i[15]||(i[15]=[a("i",{class:"ri-delete-bin-6-line"},null,-1)])]),_:1},8,["onClick"]),[[el,f.showDelBtn]])]),_:2},1032,["onConfirm","onCancel"])]),a("div",yl,[l(Y,{trigger:"click",placement:"bottom-start"},{dropdown:t(()=>[l(ae,null,{default:t(()=>[l(G,null,{default:t(()=>[...i[17]||(i[17]=[u("複製到下一行",-1)])]),_:1}),l(G,null,{default:t(()=>[...i[18]||(i[18]=[u("複製到最後一行",-1)])]),_:1}),l(G,null,{default:t(()=>[...i[19]||(i[19]=[u("向上插入行",-1)])]),_:1}),l(G,null,{default:t(()=>[...i[20]||(i[20]=[u("向下插入行",-1)])]),_:1})]),_:1})]),default:t(()=>[l(te,{link:"",type:"primary",class:"m-0 p-0 opacity-0 group-hover:opacity-100"},{default:t(()=>[...i[16]||(i[16]=[a("i",{class:"ri-more-2-fill"},null,-1)])]),_:1})]),_:1})])]))]),a("td",null,[l(B,{modelValue:f.contactName,"onUpdate:modelValue":n=>f.contactName=n},null,8,["modelValue","onUpdate:modelValue"])]),a("td",null,[l(B,{modelValue:f.contactPhone,"onUpdate:modelValue":n=>f.contactPhone=n},null,8,["modelValue","onUpdate:modelValue"])]),a("td",null,[l(B,{modelValue:f.contactTitle,"onUpdate:modelValue":n=>f.contactTitle=n},null,8,["modelValue","onUpdate:modelValue"])])],40,pl))),128))])])]),a("div",_l,[e(L)?(d(),v("div",kl,[l(te,{key:"primary",type:"primary",link:"",class:"p-2",onClick:h,disabled:e(g).length==200},{default:t(()=>[...i[21]||(i[21]=[a("i",{class:"ri-add-fill"},null,-1),u(" 新增 ",-1)])]),_:1},8,["disabled"]),l(te,{key:"primary",type:"primary",link:"",class:"p-2",onClick:i[7]||(i[7]=f=>F.value=!0),disabled:e(g).length==200},{default:t(()=>[...i[22]||(i[22]=[a("i",{class:"ri-add-fill"},null,-1),u(" 貼上新增 ",-1)])]),_:1},8,["disabled"])])):(d(),v("div",xl,[l(te,{onClick:j},{default:t(()=>[...i[23]||(i[23]=[u("取消操作",-1)])]),_:1}),l(te,{onClick:_e},{default:t(()=>[...i[24]||(i[24]=[u("刪除選中",-1)])]),_:1})]))])])):(d(),v("section",{key:1,ref_key:"fullscreenElement",ref:he,class:ie([e(pe)?"p-8":"","p-0 bg-white"])},[a("table",Tl,[a("thead",hl,[a("tr",wl,[a("th",Vl,[l(le,{content:e(pe)?"縮小":"放大",placement:"top","hide-after":10},{default:t(()=>[a("i",{class:ie([e(pe)?"ri-fullscreen-exit-line":"ri-fullscreen-line","cursor-pointer hidden group-hover:block"]),onClick:xe},null,2)]),_:1},8,["content"])]),i[25]||(i[25]=a("th",{class:"min-w-48"},"聯繫人姓名",-1)),i[26]||(i[26]=a("th",{class:"min-w-48"},"聯繫人電話",-1)),i[27]||(i[27]=a("th",{class:"min-w-48"},"聯繫人職位",-1))])]),a("tbody",Cl,[(d(!0),v(H,null,J(e(k),(f,U)=>(d(),v("tr",{key:f.id},[a("td",null,y(U+1),1),a("td",null,y(f.name),1),a("td",null,y(f.phone),1),a("td",null,y(f.title),1)]))),128))])])],2)),l(re,{modelValue:e(F),"onUpdate:modelValue":i[8]||(i[8]=f=>b(F)?F.value=f:null),title:"貼上新增",width:"800"},{default:t(()=>[l(ne,{class:"el-divider"}),a("div",Dl,[i[29]||(i[29]=a("ul",{class:"list-disc pl-4 mb-4"},[a("li",null," 使用快捷鍵 ctrl + v 將Excel內容直接貼上至表格中，使用 ctrl + z 撤銷貼上操作 "),a("li",null,"已自動隱藏不支援貼上的欄位列，請注意對應欄位順序"),a("li",null,"當前子表單總行數不可超過200行")],-1)),a("table",{onPaste:de,class:"w-full border border-gray-400 border-collapse"},[...i[28]||(i[28]=[a("thead",null,[a("tr",null,[a("th",null,"聯繫人姓名"),a("th",null,"聯繫人電話"),a("th",null,"聯繫人職位")])],-1),a("tbody",null,[a("tr",null,[a("td",{class:"h-8 min-h-8"}),a("td",{class:"h-8 min-h-8"}),a("td",{class:"h-8 min-h-8"})]),a("tr",null,[a("td",{class:"h-8 min-h-8"}),a("td",{class:"h-8 min-h-8"}),a("td",{class:"h-8 min-h-8"})])],-1)])],32)])]),_:1},8,["modelValue"]),l(re,{modelValue:e(ce),"onUpdate:modelValue":i[10]||(i[10]=f=>b(ce)?ce.value=f:null),title:"你確定要刪除選取的紀錄嗎？",width:"500"},{footer:t(()=>[a("div",Nl,[l(te,{onClick:i[9]||(i[9]=f=>ce.value=!1)},{default:t(()=>[...i[30]||(i[30]=[u("取消",-1)])]),_:1}),l(te,{type:"danger",onClick:_},{default:t(()=>[...i[31]||(i[31]=[u(" 確定 ",-1)])]),_:1})])]),default:t(()=>[a("span",null," 你選取了 "+y(e(g).filter(f=>f.checked).length)+" 條記錄，記錄中的資料刪除後將無法恢復",1)]),_:1},8,["modelValue"])])}}},Qe=ze($l,[["__scopeId","data-v-7b0b0bd0"]]),Ul={class:"xl:col-start-3"},Sl={class:"col-span-2"},Al={class:"col-span-2 xl:col-start-3"},He={__name:"FinanceInfo",props:{editable:{type:Boolean,required:!0},invoiceHeader:String,invoiceTaxType:String,accountPhoneNumber:String,accountBankName:String,invoiceTaxNumber:String,valueAddedTaxRate:String,invoiceEmail:String,accountBankNumber:String,textTypeOptions:{type:Array},bankOptions:{type:Array}},setup(N){const A=N,{invoiceHeader:p,invoiceTaxType:E,accountPhoneNumber:D,accountBankName:k,invoiceTaxNumber:V,valueAddedTaxRate:T,invoiceEmail:P,accountBankNumber:g}=A,h=r(""),K=r(""),ee=r(""),X=r(""),I=r(""),L=r(""),q=r(""),F=r("");return(ce,x)=>{const j=c("el-input"),z=c("el-form-item"),fe=c("el-option"),be=c("el-select"),_e=c("el-form");return d(),v("div",null,[N.editable?(d(),C(_e,{key:0,"label-position":"top",class:"grid grid-cols-1 xl:grid-cols-4 gap-4"},{default:t(()=>[a("div",null,[l(z,{label:"發票抬頭",required:!1},{default:t(()=>[l(j,{class:"xl:max-w-lg",modelValue:e(h),"onUpdate:modelValue":x[0]||(x[0]=_=>b(h)?h.value=_:null)},null,8,["modelValue"])]),_:1}),l(z,{label:"稅種",required:!1},{default:t(()=>[l(be,{modelValue:e(K),"onUpdate:modelValue":x[1]||(x[1]=_=>b(K)?K.value=_:null),class:"w-full",filterable:"",remote:"","reserve-keyword":"","remote-show-suffix":"",placeholder:""},{default:t(()=>[(d(!0),v(H,null,J(N.textTypeOptions,_=>(d(),C(fe,{label:_.label,value:_.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),l(z,{label:"開戶電話",required:!1},{default:t(()=>[l(j,{class:"xl:max-w-lg",modelValue:e(ee),"onUpdate:modelValue":x[2]||(x[2]=_=>b(ee)?ee.value=_:null)},null,8,["modelValue"])]),_:1}),l(z,{label:"開戶銀行",required:!1},{default:t(()=>[l(be,{modelValue:e(X),"onUpdate:modelValue":x[3]||(x[3]=_=>b(X)?X.value=_:null),class:"w-full",filterable:"",remote:"","reserve-keyword":"","remote-show-suffix":"",placeholder:""},{default:t(()=>[(d(!0),v(H,null,J(N.bankOptions,_=>(d(),C(fe,{label:_.label,value:_.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1})]),a("div",Ul,[l(z,{label:"發票稅號",required:!1},{default:t(()=>[l(j,{class:"w-full",modelValue:e(I),"onUpdate:modelValue":x[4]||(x[4]=_=>b(I)?I.value=_:null)},null,8,["modelValue"])]),_:1}),l(z,{label:"增值稅稅率 %",required:!1},{default:t(()=>[l(j,{class:"w-full",modelValue:e(L),"onUpdate:modelValue":x[5]||(x[5]=_=>b(L)?L.value=_:null)},{append:t(()=>[...x[16]||(x[16]=[a("i",{class:"ri-percent-line"},null,-1)])]),_:1},8,["modelValue"])]),_:1}),l(z,{label:"收票郵箱",required:!1},{default:t(()=>[l(j,{class:"w-full",modelValue:e(q),"onUpdate:modelValue":x[6]||(x[6]=_=>b(q)?q.value=_:null)},null,8,["modelValue"])]),_:1}),l(z,{label:"銀行帳戶",required:!1},{default:t(()=>[l(j,{class:"w-full",modelValue:e(F),"onUpdate:modelValue":x[7]||(x[7]=_=>b(F)?F.value=_:null)},null,8,["modelValue"])]),_:1})])]),_:1})):(d(),C(_e,{key:1,"label-position":"top",class:"grid grid-cols-1 xl:grid-cols-4 gap-4"},{default:t(()=>[a("div",Sl,[l(z,{label:"發票抬頭",required:!1},{default:t(()=>[l(j,{class:"xl:max-w-lg",modelValue:e(p),"onUpdate:modelValue":x[8]||(x[8]=_=>b(p)?p.value=_:null),disabled:""},null,8,["modelValue"])]),_:1}),l(z,{label:"稅種",required:!1},{default:t(()=>[l(j,{class:"xl:max-w-lg",modelValue:e(E),"onUpdate:modelValue":x[9]||(x[9]=_=>b(E)?E.value=_:null),disabled:""},null,8,["modelValue"])]),_:1}),l(z,{label:"開戶電話",required:!1},{default:t(()=>[l(j,{class:"xl:max-w-lg",modelValue:e(D),"onUpdate:modelValue":x[10]||(x[10]=_=>b(D)?D.value=_:null),disabled:""},null,8,["modelValue"])]),_:1}),l(z,{label:"開戶銀行",required:!1},{default:t(()=>[l(j,{class:"xl:max-w-lg",modelValue:e(k),"onUpdate:modelValue":x[11]||(x[11]=_=>b(k)?k.value=_:null),disabled:""},null,8,["modelValue"])]),_:1})]),a("div",Al,[l(z,{label:"發票稅號",required:!1},{default:t(()=>[l(j,{class:"w-full",modelValue:e(V),"onUpdate:modelValue":x[12]||(x[12]=_=>b(V)?V.value=_:null),disabled:""},null,8,["modelValue"])]),_:1}),l(z,{label:"增值稅稅率 %",required:!1},{default:t(()=>[l(j,{class:"w-full",modelValue:e(T),"onUpdate:modelValue":x[13]||(x[13]=_=>b(T)?T.value=_:null),disabled:""},null,8,["modelValue"])]),_:1}),l(z,{label:"收票郵箱",required:!1},{default:t(()=>[l(j,{class:"w-full",modelValue:e(P),"onUpdate:modelValue":x[14]||(x[14]=_=>b(P)?P.value=_:null),disabled:""},null,8,["modelValue"])]),_:1}),l(z,{label:"銀行帳戶",required:!1},{default:t(()=>[l(j,{class:"w-full",modelValue:e(g),"onUpdate:modelValue":x[15]||(x[15]=_=>b(g)?g.value=_:null),disabled:""},null,8,["modelValue"])]),_:1})])]),_:1}))])}}},Il={class:"grid grid-cols-2 pr-5"},Pl={class:"col-span-1"},Wl={class:"col-span-1 flex justify-end"},El={key:0,class:"flex justify-end mb-1"},Le={__name:"FollowupTable",props:{data:{type:Array,default:()=>[]}},setup(N){const A=r(null),p=r(!1),E=()=>{je({message:"操作權限不足",type:"warning",showClose:!0,duration:1800})},D=()=>{var k;document.fullscreenElement?(document.exitFullscreen(),p.value=!1):((k=A.value)==null||k.requestFullscreen(),p.value=!0)};return document.addEventListener("fullscreenchange",()=>{p.value=!!document.fullscreenElement}),(k,V)=>{const T=c("el-button"),P=c("el-divider"),g=c("el-tooltip"),h=c("el-table-column"),K=c("el-table");return d(),v("div",null,[V[1]||(V[1]=a("h3",{class:"text-gray-600 text-sm pl-4 mb-4"},"跟進記錄",-1)),a("div",Il,[a("div",Pl,[Ve(k.$slots,"titleInfo")]),a("div",Wl,[l(T,{type:"primary",link:"",class:"mx-2",onClick:E},{default:t(()=>[...V[0]||(V[0]=[a("i",{class:"ri-add-line"},null,-1),u(" 新增 ",-1)])]),_:1}),l(P,{direction:"vertical"}),l(g,{content:e(p)?"縮小":"放大",placement:"top","hide-after":10},{default:t(()=>[a("i",{class:ie(["cursor-pointer",e(p)?"ri-fullscreen-exit-line":"ri-fullscreen-line"]),onClick:D},null,2)]),_:1},8,["content"])])]),a("div",{ref_key:"fullscreenElement",ref:A,class:ie([e(p)?"p-8":"","p-4 bg-white"])},[e(p)?(d(),v("div",El,[l(g,{content:e(p)?"縮小":"放大",placement:"top","hide-after":10},{default:t(()=>[a("i",{class:ie(["cursor-pointer",e(p)?"ri-fullscreen-exit-line":"ri-fullscreen-line"]),onClick:D},null,2)]),_:1},8,["content"])])):Ne("",!0),l(K,{data:N.data,style:{width:"100%"},"max-height":370,border:"","header-cell-style":{backgroundColor:"#F5F7FA"}},{default:t(()=>[l(h,{prop:"followupRecord",label:"跟進內容記錄",width:"120"}),l(h,{prop:"followupMethod",label:"跟進方式",sortable:"",width:"180"}),l(h,{prop:"followupPerson",label:"跟進人",sortable:"",width:"180"}),l(h,{prop:"date",label:"跟進時間",width:"180",sortable:""}),l(h,{prop:"mark",label:""})]),_:1},8,["data"]),Ve(k.$slots,"pagination")],2)])}}},zl={class:"mb-6"},Bl={class:"grid grid-cols-2 pr-5"},Ol={class:"col-span-1"},Ml={class:"col-span-1 flex justify-end"},Rl={key:0,class:"flex justify-end"},Ke={__name:"SalesOrder",props:{tableData:{type:Array,required:!0},columns:{type:Array,required:!0}},setup(N){const A=r(null),p=r(!1),E=()=>{var V;document.fullscreenElement?(document.exitFullscreen(),p.value=!1):((V=A.value)==null||V.requestFullscreen(),p.value=!0)};document.addEventListener("fullscreenchange",()=>{p.value=!!document.fullscreenElement});const D=()=>{je({message:"操作權限不足",type:"warning",showClose:!0,duration:1800})},k=({row:V,column:T,rowIndex:P,columnIndex:g})=>{if(g>=0&&g<=7)return P%2===0?{rowspan:2,colspan:1}:{rowspan:0,colspan:0}};return(V,T)=>{const P=c("el-button"),g=c("el-divider"),h=c("el-tooltip"),K=c("el-tag"),ee=c("el-table-column"),X=c("el-table");return d(),v("div",zl,[T[1]||(T[1]=a("h3",{class:"text-gray-600 text-sm px-4 mb-4"},"銷售訂單",-1)),a("div",Bl,[a("div",Ol,[Ve(V.$slots,"titleInfo")]),a("div",Ml,[l(P,{type:"primary",link:"",class:"mx-2",onClick:D},{default:t(()=>[...T[0]||(T[0]=[a("i",{class:"ri-add-line"},null,-1),u(" 新增 ",-1)])]),_:1}),l(g,{direction:"vertical"}),l(h,{content:e(p)?"縮小":"放大",placement:"top","hide-after":10},{default:t(()=>[a("i",{class:ie(["cursor-pointer",e(p)?"ri-fullscreen-exit-line":"ri-fullscreen-line"]),onClick:E},null,2)]),_:1},8,["content"])])]),a("div",{ref_key:"fullscreenElement",ref:A,class:ie([e(p)?"p-8":"","p-4 bg-white"])},[e(p)?(d(),v("div",Rl,[l(h,{content:e(p)?"縮小":"放大",placement:"top","hide-after":10},{default:t(()=>[a("i",{class:ie(["cursor-pointer",e(p)?"ri-fullscreen-exit-line":"ri-fullscreen-line"]),onClick:E},null,2)]),_:1},8,["content"])])):Ne("",!0),l(X,{data:N.tableData,style:{width:"100%"},"max-height":370,class:"mb-4","span-method":k},{default:t(()=>[(d(!0),v(H,null,J(N.columns,(I,L)=>(d(),v(H,{key:L},[I.children?(d(),C(ee,{key:1,label:I.label,"header-align":"center"},{default:t(()=>[(d(!0),v(H,null,J(I.children,(q,F)=>(d(),C(ee,{key:F,prop:q.prop,label:q.label,width:q.minWidth},null,8,["prop","label","width"]))),128))]),_:2},1032,["label"])):(d(),C(ee,{key:0,prop:I.prop,label:I.label,width:I.minWidth,sortable:I.sortable},Ee({_:2},[I.slotName?{name:I.slotName,fn:t(q=>[l(K,{type:"primary",effect:"dark"},{default:t(()=>[u(y(q.row[I.prop]),1)]),_:2},1024)]),key:"0"}:void 0]),1032,["prop","label","width","sortable"]))],64))),128))]),_:1},8,["data"]),Ve(V.$slots,"pagination")],2)])}}},ql={class:"mb-6"},Fl={class:"grid grid-cols-2 pr-5"},jl={class:"flex justify-end"},Ql={key:0,class:"flex justify-end mb-1"},Ge={__name:"SalesOrderTrack",props:{tableData:{type:Array,required:!0},columns:{type:Array,required:!0}},setup(N){const A=r(null),p=r(!1),E=()=>{var D;document.fullscreenElement?(document.exitFullscreen(),p.value=!1):((D=A.value)==null||D.requestFullscreen(),p.value=!0)};return document.addEventListener("fullscreenchange",()=>{p.value=!!document.fullscreenElement}),(D,k)=>{const V=c("el-tooltip"),T=c("el-table-column"),P=c("el-table");return d(),v("div",ql,[k[0]||(k[0]=a("h3",{class:"text-gray-600 text-sm px-4 mb-4"},"銷售訂單執行追蹤",-1)),a("div",Fl,[a("div",null,[Ve(D.$slots,"titleInfo")]),a("div",jl,[l(V,{content:e(p)?"縮小":"放大",placement:"top","hide-after":10},{default:t(()=>[a("i",{class:ie(["cursor-pointer",e(p)?"ri-fullscreen-exit-line":"ri-fullscreen-line"]),onClick:E},null,2)]),_:1},8,["content"])])]),a("div",{ref_key:"fullscreenElement",ref:A,class:ie([e(p)?"p-8":"","p-4 bg-white"])},[e(p)?(d(),v("div",Ql,[l(V,{content:e(p)?"縮小":"放大",placement:"top","hide-after":10},{default:t(()=>[a("i",{class:ie(["cursor-pointer",e(p)?"ri-fullscreen-exit-line":"ri-fullscreen-line"]),onClick:E},null,2)]),_:1},8,["content"])])):Ne("",!0),l(P,{data:N.tableData,style:{width:"100%"},"max-height":370,class:"mb-4",border:"","header-cell-style":{backgroundColor:"#F5F7FA"}},{default:t(()=>[(d(!0),v(H,null,J(N.columns,(g,h)=>(d(),v(H,{key:h},[g.children?(d(),C(T,{key:1,label:g.label,"header-align":"center"},{default:t(()=>[(d(!0),v(H,null,J(g.children,(K,ee)=>(d(),C(T,{key:ee,prop:K.prop,label:K.label,width:K.minWidth},null,8,["prop","label","width"]))),128))]),_:2},1032,["label"])):(d(),C(T,{key:0,prop:g.prop,label:g.label,width:g.minWidth,sortable:g.sortable},null,8,["prop","label","width","sortable"]))],64))),128))]),_:1},8,["data"]),Ve(D.$slots,"pagination")],2)])}}},Hl={class:"col-span-2"},Ll={class:"w-full bg-gray-50 rounded-sm border"},Kl={class:"w-full bg-gray-50 rounded-sm border"},Gl={class:"w-full bg-gray-50 rounded-sm border"},Jl={class:"col-span-2 xl:col-start-3"},Xl={class:"w-full bg-gray-50 rounded-sm border"},Yl={__name:"ClientInfo",props:{edit:{type:Boolean,default:!1},data:{type:Object,default:()=>({})}},setup(N){const A=N,{data:p}=A,E=D=>{switch(D){case"潛在客戶":return"danger";case"戰略合作":return"primary";case"成交客戶":return"success";case"SMB":return"warning";case"ME":return"primary";case"KA":return"success";default:return"info"}};return(D,k)=>{const V=c("el-input"),T=c("el-form-item"),P=c("el-tag"),g=c("el-form");return d(),v("div",null,[k[7]||(k[7]=a("h2",{class:"text-lg font-bold text-primary border-b-4 border-blue-100"},"客戶基本資料",-1)),l(g,{"label-position":"top",class:"grid grid-cols-1 xl:grid-cols-4 gap-4 p-6 font-bold"},{default:t(()=>[a("div",Hl,[l(T,{label:"客戶編碼"},{default:t(()=>[l(V,{class:"xl:max-w-lg",disabled:"",modelValue:e(p).clientNo,"onUpdate:modelValue":k[0]||(k[0]=h=>e(p).clientNo=h)},null,8,["modelValue"])]),_:1}),l(T,{label:"客戶分類"},{default:t(()=>[a("div",Ll,[l(P,{type:E(e(p).clientType),effect:"dark",class:"inline-block"},{default:t(()=>[u(y(e(p).clientType),1)]),_:1},8,["type"])])]),_:1}),l(T,{label:"客戶標籤"},{default:t(()=>[a("div",Kl,[l(P,{type:E(e(p).clientTag),effect:"dark",class:"inline-block"},{default:t(()=>[u(y(e(p).clientTag),1)]),_:1},8,["type"])])]),_:1}),l(T,{label:"結算期限"},{default:t(()=>[l(V,{class:"xl:max-w-lg",disabled:"",modelValue:e(p).settlementType,"onUpdate:modelValue":k[1]||(k[1]=h=>e(p).settlementType=h)},null,8,["modelValue"])]),_:1}),l(T,{label:"銷售負責人"},{default:t(()=>[a("div",Gl,[l(P,{type:"primary",class:"inline-block"},{default:t(()=>[u(y(e(p).salesRepresentative),1)]),_:1})])]),_:1}),l(T,{label:"客戶地址"},{default:t(()=>[l(V,{modelValue:e(p).clientAddress,"onUpdate:modelValue":k[2]||(k[2]=h=>e(p).clientAddress=h),class:"w-full",type:"text",disabled:""},null,8,["modelValue"])]),_:1})]),a("div",Jl,[l(T,{label:"客戶名稱"},{default:t(()=>[l(V,{class:"w-full",modelValue:e(p).clientName,"onUpdate:modelValue":k[3]||(k[3]=h=>e(p).clientName=h),disabled:""},null,8,["modelValue"])]),_:1}),l(T,{label:"客戶來源"},{default:t(()=>[l(V,{class:"w-full",value:"轉介紹",modelValue:e(p).clientSource,"onUpdate:modelValue":k[4]||(k[4]=h=>e(p).clientSource=h),disabled:""},null,8,["modelValue"])]),_:1}),l(T,{label:"價格等級"},{default:t(()=>[l(V,{class:"w-full",modelValue:e(p).priceTier,"onUpdate:modelValue":k[5]||(k[5]=h=>e(p).priceTier=h),disabled:""},null,8,["modelValue"])]),_:1}),l(T,{label:"信用額度/元"},{default:t(()=>[l(V,{class:"w-full",modelValue:e(p).creditLimit,"onUpdate:modelValue":k[6]||(k[6]=h=>e(p).creditLimit=h),disabled:""},null,8,["modelValue"])]),_:1}),l(T,{label:"銷售歸屬部門"},{default:t(()=>[a("div",Xl,[l(P,{type:"primary",class:"inline-block"},{default:t(()=>[u(y(e(p).salesDepartment),1)]),_:1})])]),_:1})])]),_:1})])}}},Zl={class:"flex justify-between"},et=["src"],lt={class:"flex flex-col items-start"},tt={class:"text-lg font-bold text-gray-500 px-2 pt-2"},at={class:"dialog-content"},nt={class:"grid grid-cols-12"},ot={class:"col-span-9 max-h-screen overflow-y-auto"},st={class:"w-full grid grid-cols-12 border-b-2 py-2"},it={class:"col-span-10 flex"},dt={class:"col-span-2 justify-end"},rt={class:"px-2"},ut={class:"p-4"},ct={class:"grid grid-cols-4 gap-3 pt-2 px-4 pb-4"},pt={class:"col-span-2 flex"},mt={class:"w-2/3"},ft={class:"col-span-2 flex"},bt={class:"w-2/3"},vt={class:"col-span-2 flex"},gt={class:"w-2/3"},yt={class:"col-span-3 bg-gray-100 max-h-screen"},_t={class:"w-full max-h-[880px] h-[880px] overflow-y-auto"},kt={class:"bg-white w-full p-2.5 rounded-md mb-2"},xt={class:"grid grid-cols-6 py-1"},Tt={class:"w-full relative"},ht={class:"w-full absolute bottom-0"},wt={key:0},Vt={class:"grid grid-cols-6 items-center"},Ct={class:"col-span-1"},Dt={class:"col-span-1"},Nt={class:"col-span-4 text-right pt-1"},$t={__name:"ClientTableDialog",props:{isButtonArea:{type:Boolean,default:!0},tableData:{type:Array,required:!0},columns:{type:Array,required:!0},border:{type:Boolean,default:!0},headerCellStyle:{type:Object,default:()=>({backgroundColor:"#f5f7f8",color:"#606266",fontWeight:"bold"})},financeInfo:{type:Object,default:()=>({})},contactInfo:{type:Object,default:()=>({})},followUpData:{type:Array,default:()=>[]},salesData:{type:Array,default:()=>[]},salesColumns:{type:Array,default:()=>[]},salesTrackData:{type:Array,default:()=>[]},salesTrackColumns:{type:Array,default:()=>[]}},setup(N){const A=N,{columns:p,tableData:E,financeInfo:D,contactInfo:k,followUpData:V}=A,T=r(3),P=r(10),g=r("default"),h=r(!1),K=r(!1),ee=r(null),X=r(!1),I=()=>{console.log("items per page")},L=()=>{console.log("current page: ")},q=()=>{var U;document.fullscreenElement?(document.exitFullscreen(),X.value=!1):((U=ee.value)==null||U.requestFullscreen(),X.value=!0)};document.addEventListener("fullscreenchange",()=>{X.value=!!document.fullscreenElement});const F=r(!1),ce=r(""),x=r(null),j=r(0),z=r(""),fe=r(""),be=r(""),_e=U=>{ce.value=U.clientName,x.value=U,j.value++,F.value=!0,z.value=U.submitter,fe.value=U.submitTime,be.value=U.updateTime},_=()=>{x.value=null,z.value="",fe.value="",be.value=""},he=U=>{_e(U)},pe=r(!1),xe=r(!1),de=r([]),w=U=>{de.value=U?A.columns.map(n=>n.prop):[],xe.value=!1},i=U=>{const n=U.length;pe.value=n===A.columns.length,xe.value=n>0&&n<A.columns.length},B=we({currentPage:1,pageSize:10,size:"default",background:!1,disabled:!1}),Te=()=>{console.log("items per page")},$e=()=>{console.log("current page: ")},ve=we({currentPage:1,pageSize:10,size:"default",background:!1,disabled:!1}),le=()=>{console.log("items per page")},te=()=>{console.log("current page: ")},Q=we({currentPage:1,pageSize:10,size:"default",background:!1,disabled:!1}),G=()=>{console.log("items per page")},ae=()=>{console.log("current page: ")},Y=r("1"),ne=(U,n)=>{console.log(U,n)},re=r(""),f=r(!1);return(U,n)=>{const O=c("el-button"),Z=c("el-dropdown-item"),oe=c("el-dropdown-menu"),se=c("el-dropdown"),M=c("el-checkbox"),S=c("el-checkbox-group"),s=c("el-input"),R=c("el-tooltip"),Ie=c("el-empty"),ge=c("el-table-column"),Pe=c("el-table"),Ce=c("el-pagination"),me=c("el-tab-pane"),ue=c("el-tabs"),W=c("el-divider"),ye=c("el-tag"),We=c("el-upload");return d(),v("div",{ref_key:"fullscreenElement",ref:ee,class:ie([e(X)?"p-8":"","p-4 bg-white"])},[a("div",Zl,[a("div",{class:ie(["flex items-center",{invisible:!N.isButtonArea}])},[l(O,{type:"primary"},{default:t(()=>[...n[17]||(n[17]=[a("i",{class:"ri-add-line"},null,-1),u("新增",-1)])]),_:1}),l(O,{text:""},{default:t(()=>[...n[18]||(n[18]=[a("i",{class:"ri-download-2-line"},null,-1),u("匯入 ",-1)])]),_:1}),l(se,{trigger:"click"},{dropdown:t(()=>[l(oe,null,{default:t(()=>[l(Z,{disabled:""},{default:t(()=>[...n[20]||(n[20]=[u("篩選後的資料",-1)])]),_:1}),l(Z,null,{default:t(()=>[...n[21]||(n[21]=[u("全部資料",-1)])]),_:1})]),_:1})]),default:t(()=>[l(O,{text:""},{default:t(()=>[...n[19]||(n[19]=[a("i",{class:"ri-upload-2-line mr-1"},null,-1),u("匯出 ",-1),a("i",{class:"ri-arrow-down-s-fill"},null,-1)])]),_:1})]),_:1}),l(se,{trigger:"click"},{dropdown:t(()=>[l(oe,null,{default:t(()=>[l(Z,{disabled:""},{default:t(()=>[...n[23]||(n[23]=[u("篩選後的資料",-1)])]),_:1}),l(Z,null,{default:t(()=>[...n[24]||(n[24]=[u("全部資料",-1)])]),_:1})]),_:1})]),default:t(()=>[l(O,{text:""},{default:t(()=>[...n[22]||(n[22]=[a("i",{class:"ri-delete-bin-line mr-1"},null,-1),u("刪除 ",-1),a("i",{class:"ri-arrow-down-s-fill"},null,-1)])]),_:1})]),_:1}),l(se,{trigger:"click"},{dropdown:t(()=>[l(oe,null,{default:t(()=>[l(Z,null,{default:t(()=>[...n[26]||(n[26]=[u("批次修改記錄",-1)])]),_:1}),l(Z,{disabled:""},{default:t(()=>[...n[27]||(n[27]=[u("批次列印範本記錄",-1)])]),_:1})]),_:1})]),default:t(()=>[l(O,{text:""},{default:t(()=>[...n[25]||(n[25]=[a("i",{class:"ri-time-line mr-1"},null,-1),u("操作記錄 ",-1),a("i",{class:"ri-arrow-down-s-fill"},null,-1)])]),_:1})]),_:1})],2),a("div",{class:ie([U.edit?"":"ml-auto","ricon flex items-center"])},[l(s,{placeholder:"輸入關鍵字",class:"mr-5"},{prefix:t(()=>[...n[28]||(n[28]=[a("i",{class:"ri-search-line"},null,-1)])]),suffix:t(()=>[l(se,{trigger:"click"},{dropdown:t(()=>[l(oe,{class:"w-48 max-h-72 overflow-y-auto"},{default:t(()=>[l(M,{modelValue:e(pe),"onUpdate:modelValue":n[0]||(n[0]=m=>b(pe)?pe.value=m:null),indeterminate:e(xe),onChange:w,class:"allCheckbox pl-3"},{default:t(()=>[...n[29]||(n[29]=[u(" 全選 ",-1)])]),_:1},8,["modelValue","indeterminate"]),l(S,{modelValue:e(de),"onUpdate:modelValue":n[1]||(n[1]=m=>b(de)?de.value=m:null),onChange:i,class:"flex flex-col space-y-1 pl-3 border-t"},{default:t(()=>[(d(!0),v(H,null,J(e(p),m=>(d(),C(M,{key:m.prop,value:m.prop},{default:t(()=>[u(y(m.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),default:t(()=>[n[30]||(n[30]=a("i",{class:"ri-arrow-down-s-line"},null,-1))]),_:1})]),_:1}),l(R,{content:"篩選條件",placement:"bottom","hide-after":10},{default:t(()=>[l(O,{text:""},{default:t(()=>[...n[31]||(n[31]=[a("i",{class:"ri-filter-line"},null,-1)])]),_:1})]),_:1}),l(R,{content:"顯示欄位",placement:"bottom","hide-after":10},{default:t(()=>[l(O,{text:""},{default:t(()=>[...n[32]||(n[32]=[a("i",{class:"ri-layout-grid-line"},null,-1)])]),_:1})]),_:1}),l(R,{content:"排序",placement:"bottom","hide-after":10},{default:t(()=>[l(O,{text:""},{default:t(()=>[...n[33]||(n[33]=[a("i",{class:"ri-sort-asc"},null,-1)])]),_:1})]),_:1}),l(R,{content:"分組",placement:"bottom","hide-after":10},{default:t(()=>[l(O,{text:""},{default:t(()=>[...n[34]||(n[34]=[a("i",{class:"ri-list-indefinite"},null,-1)])]),_:1})]),_:1}),l(R,{content:"更新",placement:"bottom","hide-after":10},{default:t(()=>[l(O,{text:""},{default:t(()=>[...n[35]||(n[35]=[a("i",{class:"ri-refresh-line cursor-pointer"},null,-1)])]),_:1})]),_:1}),l(R,{content:e(X)?"縮小":"放大",placement:"bottom","hide-after":10},{default:t(()=>[l(O,{text:""},{default:t(()=>[a("i",{class:ie([e(X)?"ri-fullscreen-exit-line":"ri-fullscreen-line","cursor-pointer"]),onClick:q},null,2)]),_:1})]),_:1},8,["content"])],2)]),l(Pe,{data:e(E),style:{width:"100%"},border:N.border,"header-cell-style":N.headerCellStyle,class:"my-2",onRowClick:he},{empty:t(()=>[l(Ie,{description:"暫無資料"})]),default:t(()=>[l(ge,{type:"selection",width:"55",align:"center",fixed:""}),(d(!0),v(H,null,J(e(p),m=>(d(),v(H,{key:m.prop||m.label},[m.children?(d(),C(ge,{key:1,label:m.label,"header-align":m.headerAlign||"center"},{default:t(()=>[(d(!0),v(H,null,J(m.children,$=>(d(),C(ge,{key:$.prop||$.label,prop:$.prop,label:$.label,sortable:$.sortable,"min-width":$.minWidth||null,"header-align":$.headerAlign||"center",align:$.align||"left"},Ee({_:2},[U.$slots[$.prop]?{name:"default",fn:t(De=>[Ve(U.$slots,$.prop,Oe({ref_for:!0},De),void 0,!0)]),key:"0"}:void 0]),1032,["prop","label","sortable","min-width","header-align","align"]))),128))]),_:2},1032,["label","header-align"])):(d(),C(ge,{key:0,prop:m.prop,label:m.label,sortable:m.sortable||!1,"min-width":m.minWidth,fixed:m.fixed,align:m.align,"header-align":m.headerAlign},Ee({_:2},[m.prop==="pdImage"?{name:"default",fn:t($=>[a("img",{src:$.row[m.prop],alt:"產品圖片",style:{width:"50px",height:"auto"}},null,8,et)]),key:"0"}:m.slot?{name:"default",fn:t($=>[Ve(U.$slots,m.slot,Oe({ref_for:!0},$),void 0,!0)]),key:"1"}:void 0]),1032,["prop","label","sortable","min-width","fixed","align","header-align"]))],64))),128))]),_:3},8,["data","border","header-cell-style"]),l(e(Ae),{locale:e(Se)},{default:t(()=>[l(Ce,{"current-page":e(T),"onUpdate:currentPage":n[2]||(n[2]=m=>b(T)?T.value=m:null),"page-size":e(P),"onUpdate:pageSize":n[3]||(n[3]=m=>b(P)?P.value=m:null),"page-sizes":[10,20,50,100],size:e(g),disabled:e(K),background:e(h),layout:"total, sizes, prev, pager, next, jumper",total:e(E).length,onSizeChange:I,onCurrentChange:L},null,8,["current-page","page-size","size","disabled","background","total"])]),_:1},8,["locale"]),l(e(ll),{modelValue:e(F),"onUpdate:modelValue":n[15]||(n[15]=m=>b(F)?F.value=m:null),visible:e(F),"onUpdate:visible":n[16]||(n[16]=m=>b(F)?F.value=m:null),width:"60%",center:"",onClose:_},{header:t(()=>[a("div",lt,[a("span",tt,y(e(ce)),1)])]),default:t(()=>[n[58]||(n[58]=a("hr",{class:"w-full border-t border-gray-300"},null,-1)),a("div",at,[a("div",nt,[a("div",ot,[a("div",st,[a("div",it,[l(R,{content:"顯示欄位",placement:"bottom","hide-after":10},{default:t(()=>[l(O,{text:""},{default:t(()=>[...n[36]||(n[36]=[a("i",{class:"ri-layout-grid-line"},null,-1)])]),_:1})]),_:1}),l(R,{content:"分享",placement:"bottom","hide-after":10},{default:t(()=>[l(O,{text:""},{default:t(()=>[...n[37]||(n[37]=[a("i",{class:"ri-share-line"},null,-1)])]),_:1})]),_:1}),l(R,{content:"列印",placement:"bottom","hide-after":10},{default:t(()=>[l(O,{text:""},{default:t(()=>[...n[38]||(n[38]=[a("i",{class:"ri-printer-line px-1"},null,-1),u("列印 ",-1)])]),_:1})]),_:1}),l(R,{content:"複製",placement:"bottom","hide-after":10},{default:t(()=>[l(O,{text:""},{default:t(()=>[...n[39]||(n[39]=[a("i",{class:"ri-file-copy-line px-1"},null,-1),u("複製 ",-1)])]),_:1})]),_:1}),l(R,{content:"編輯",placement:"bottom","hide-after":10},{default:t(()=>[l(O,{text:""},{default:t(()=>[...n[40]||(n[40]=[a("i",{class:"ri-edit-line px-1"},null,-1),u(" 編輯 ",-1)])]),_:1})]),_:1}),l(R,{content:"刪除",placement:"bottom","hide-after":10},{default:t(()=>[l(O,{text:""},{default:t(()=>[...n[41]||(n[41]=[a("i",{class:"ri-delete-bin-line px-1"},null,-1),u("刪除 ",-1)])]),_:1})]),_:1})]),a("div",dt,[l(Ce,{layout:"prev, pager, next",total:1})])]),a("div",rt,[n[48]||(n[48]=a("div",{class:"py-4"},[a("h2",{class:"py-2"},"標題"),a("p",{class:"py-2 pl-2"},"軟件有限公司")],-1)),a("div",null,[(d(),C(Yl,{data:e(x),key:e(j)},null,8,["data"])),a("div",ut,[l(ue,{class:"mb-4",type:"border-card"},{default:t(()=>[l(me,{label:"財務資料"},{default:t(()=>[l(He,{editable:e(D).isEdit,invoiceHeader:e(D).invoiceHeader,invoiceTaxType:e(D).invoiceTaxType,accountPhoneNumber:e(D).accountPhoneNumber,accountBankName:e(D).accountBankName,invoiceTaxNumber:e(D).invoiceTaxNumber,valueAddedTaxRate:e(D).valueAddedTaxRate,invoiceEmail:e(D).invoiceEmail,accountBankNumber:e(D).accountBankNumber},null,8,["editable","invoiceHeader","invoiceTaxType","accountPhoneNumber","accountBankName","invoiceTaxNumber","valueAddedTaxRate","invoiceEmail","accountBankNumber"])]),_:1}),l(me,{label:"聯繫人資料"},{default:t(()=>[l(Qe,{editable:e(k).isEdit,name:e(k).name,phone:e(k).phone,title:e(k).title,otherContactInfo:e(k).otherContacts},null,8,["editable","name","phone","title","otherContactInfo"])]),_:1}),l(me,{label:"跟進紀錄"},{default:t(()=>[l(Le,{data:e(V)},{titleInfo:t(()=>[...n[42]||(n[42]=[a("p",{class:"pl-4"},"跟進紀錄",-1)])]),pagination:t(()=>[l(e(Ae),{locale:e(Se)},{default:t(()=>[l(Ce,{class:"py-4 px-1","current-page":e(B).currentPage,"onUpdate:currentPage":n[4]||(n[4]=m=>e(B).currentPage=m),"page-size":e(B).pageSize,"onUpdate:pageSize":n[5]||(n[5]=m=>e(B).pageSize=m),"page-sizes":[10,20,50,100],size:e(B).size,disabled:e(B).disabled,background:e(B).background,layout:"total, sizes, prev, pager, next, jumper",total:e(V).length,onSizeChange:Te,onCurrentChange:$e},null,8,["current-page","page-size","size","disabled","background","total"])]),_:1},8,["locale"])]),_:1},8,["data"])]),_:1}),l(me,{label:"銷售訂單"},{default:t(()=>[l(Ke,{tableData:N.salesData,columns:N.salesColumns},{titleInfo:t(()=>[...n[43]||(n[43]=[a("p",{class:"pl-4"},"銷售訂單",-1)])]),pagination:t(()=>[l(e(Ae),{locale:e(Se)},{default:t(()=>[l(Ce,{class:"px-1","current-page":e(ve).currentPage,"onUpdate:currentPage":n[6]||(n[6]=m=>e(ve).currentPage=m),"page-size":e(ve).pageSize,"onUpdate:pageSize":n[7]||(n[7]=m=>e(ve).pageSize=m),"page-sizes":[10,20,50,100],size:e(ve).size,disabled:e(ve).disabled,background:e(ve).background,layout:"total, sizes, prev, pager, next, jumper",total:N.salesData.length,onSizeChange:le,onCurrentChange:te},null,8,["current-page","page-size","size","disabled","background","total"])]),_:1},8,["locale"])]),_:1},8,["tableData","columns"]),l(Ge,{tableData:N.salesTrackData,columns:N.salesTrackColumns},{titleInfo:t(()=>[...n[44]||(n[44]=[a("p",{class:"pl-4"},"銷售訂單-出庫-退換貨-對帳執行統計",-1)])]),pagination:t(()=>[l(e(Ae),{locale:e(Se)},{default:t(()=>[l(Ce,{class:"px-1","current-page":e(Q).currentPage,"onUpdate:currentPage":n[8]||(n[8]=m=>e(Q).currentPage=m),"page-size":e(Q).pageSize,"onUpdate:pageSize":n[9]||(n[9]=m=>e(Q).pageSize=m),"page-sizes":[10,20,50,100],size:e(Q).size,disabled:e(Q).disabled,background:e(Q).background,layout:"total, sizes, prev, pager, next, jumper",total:N.salesTrackData.length,onSizeChange:G,onCurrentChange:ae},null,8,["current-page","page-size","size","disabled","background","total","onCurrentChange"])]),_:1},8,["locale"])]),_:1},8,["tableData","columns"])]),_:1})]),_:1})]),l(W),a("div",ct,[a("div",pt,[n[45]||(n[45]=a("p",{class:"w-1/3"},"送出人",-1)),a("p",mt,y(e(z)),1)]),a("div",ft,[n[46]||(n[46]=a("p",{class:"w-1/3"},"送出時間",-1)),a("p",bt,y(e(fe)),1)]),a("div",vt,[n[47]||(n[47]=a("p",{class:"w-1/3"},"更新時間",-1)),a("p",gt,y(e(be)),1)])])])])]),a("div",yt,[l(ue,{modelValue:e(Y),"onUpdate:modelValue":n[14]||(n[14]=m=>b(Y)?Y.value=m:null),class:"demo-tabs px-4 py-2",onTabClick:ne},{default:t(()=>[l(me,{label:"資料記錄",name:"1"},{default:t(()=>[a("div",_t,[(d(),v(H,null,J(2,m=>a("div",kt,[n[51]||(n[51]=a("div",{class:"flex justify-end"},[a("small",{class:"p-1"},"2024-01-08 16:55")],-1)),a("div",xt,[l(ye,{size:"large",type:"primary",class:"p-1"},{default:t(()=>[...n[49]||(n[49]=[u("張璿",-1)])]),_:1}),n[50]||(n[50]=a("p",{class:"col-start-6 p-1 text-nowrap"},"建立",-1))]),n[52]||(n[52]=a("p",{class:""},"軟件有限公司",-1))])),64))])]),_:1}),l(me,{label:"評論",name:"2"},{default:t(()=>[a("div",Tt,[n[57]||(n[57]=a("div",{class:"flex flex-col justify-center items-center max-h-[880px] h-[880px] overflow-y-auto"},[a("i",{class:"ri-box-3-line text-5xl text-blue-400"}),a("p",{class:"p-4 text-gray-400"},"暫無評論")],-1)),a("div",ht,[e(f)?(d(),v("div",wt,[l(s,{modelValue:e(re),"onUpdate:modelValue":n[10]||(n[10]=m=>b(re)?re.value=m:null),style:{width:"100%"},rows:4,type:"textarea",placeholder:"Ctrl + Enter 發送評論"},null,8,["modelValue"]),a("div",Vt,[a("div",Ct,[l(O,{link:"",text:"",type:"primary"},{default:t(()=>[...n[53]||(n[53]=[a("i",{class:"ri-at-line"},null,-1)])]),_:1})]),a("div",Dt,[l(We,{"file-list":U.fileList,"onUpdate:fileList":n[11]||(n[11]=m=>U.fileList=m),class:"upload-demo w-full",action:"#",limit:1,"show-file-list":!1,"auto-upload":!1},{default:t(()=>[l(O,{link:"",text:"",type:"primary"},{default:t(()=>[...n[54]||(n[54]=[a("i",{class:"ri-upload-2-line"},null,-1)])]),_:1})]),_:1},8,["file-list"])]),a("div",Nt,[l(O,{onClick:n[12]||(n[12]=m=>f.value=!1),disabled:e(re).length==0},{default:t(()=>[...n[55]||(n[55]=[u("發送",-1)])]),_:1},8,["disabled"])])])])):(d(),C(O,{key:1,class:"w-full",onClick:n[13]||(n[13]=m=>f.value=!0)},{default:t(()=>[...n[56]||(n[56]=[u(" 發表評論 ",-1)])]),_:1}))])])]),_:1})]),_:1},8,["modelValue"])])])])]),_:1},8,["modelValue","visible"])],2)}}},ke=ze($t,[["__scopeId","data-v-f3fc84c7"]]),Ut={class:"flex flex-col space-y-4"},St={key:0},At={class:"p-8 bg-white rounded-t-md shadow max-h-lvh overflow-y-auto"},It={class:"xl:col-start-3"},Pt={class:"p-6"},Wt={class:"pl-10 py-4 box-border border-dashed border-t-2 bg-white rounded-b-md"},Et={key:1},zt={class:"p-4 bg-white rounded-md shadow"},Bt={key:2},Ot={class:"p-4 bg-white rounded-md shadow"},Mt={key:3},Rt={class:"p-4 bg-white rounded-md shadow"},qt={key:4},Ft={class:"p-4 bg-white rounded-md shadow"},jt={class:"w-full border-dashed border-2 mb-2 p-1.5 min-h-12"},Qt={class:"grid grid-cols-4"},Ht={class:"col-span-2 h-72 min-h-72 overflow-y-auto border-r-2"},Lt={class:"col-span-2 pl-4"},Kt={class:"flex flex-col justify-start"},Gt={key:1,class:"flex items-center justify-center h-72"},Jt={class:"dialog-footer pt-3.5 flex justify-end"},Xt={class:"w-full border-dashed border-2 mb-2 p-1.5 min-h-12"},Yt={class:"h-72 min-h-72 overflow-y-auto"},Zt={class:"dialog-footer pt-3.5 flex justify-end"},ea={__name:"DetailsView",setup(N){const A=r("add"),p=r(""),E=r(""),D=r([{value:"1",label:"潛在客戶",type:"danger"},{value:"2",label:"成交客戶",type:"success"},{value:"3",label:"戰略合作",type:"primary"}]),k=r(""),V=r([{value:"1",label:"KA",type:"success"},{value:"2",label:"ME",type:"primary"},{value:"3",label:"SMB",type:"warning"}]),T=r(""),P=r([{value:"1",label:"月結"},{value:"2",label:"季結"},{value:"3",label:"現結"}]),g=r(!1),h=r(""),K=r("1"),ee=r("軟件有限公司"),X=r(null),I=r(""),L=r(""),q=r([{department:"生產部",members:[{value:"王小明",name:"王小明"},{value:"張璿",name:"張璿"}]},{department:"銷售一部",members:[{value:"張三",name:"張三"},{value:"李四",name:"李四"},{value:"Adam",name:"Adam"}]}]),F=Ue(()=>{if(I.value===ee.value||!I.value)return q.value.flatMap(S=>S.members);{const S=q.value.find(s=>s.department===I.value);return S?S.members:[]}}),ce=r([{id:1,label:"軟件有限公司",children:[{id:"1-1",label:"生產部"},{id:"1-2",label:"銷售部",children:[{id:"1-2-1",label:"銷售一部"},{id:"1-2-2",label:"銷售二部"}]},{id:4,label:"研發部"},{id:5,label:"市場部"},{id:6,label:"採購部"},{id:7,label:"財務部"},{id:8,label:"會計出納"},{id:9,label:"測試部"},{id:10,label:"行政部"}]}]),x=(S,s)=>{I.value=S.label},j=(S,s)=>S?s.label.includes(S):!0,z=r([{value:"taiwan",label:"台灣",children:[{value:"V",label:"台北市",children:[{value:"V01",label:"松山區"},{value:"V02",label:"信義區"},{value:"V03",label:"大安區"},{value:"V04",label:"中山區"},{value:"",label:"餘略..."}]},{value:"A",label:"新北市",children:[{value:"A01",label:"板橋區"},{value:"A02",label:"三重區"},{value:"",label:"餘略..."}]}]},{value:"abroad",label:"海外",children:[{value:"other",label:"其他",children:[{value:"other",label:"其他"}]}]}]),fe=r(""),be=r(""),_e=r(""),_=r([{value:"1",label:"Google 搜尋"},{value:"2",label:"轉介紹"},{value:"3",label:"官網註冊"},{value:"4",label:"銷售自拓"}]),he=r(""),pe=r([{value:"1",label:"標準售價"},{value:"2",label:"一級售價"},{value:"3",label:"二級售價"}]),xe=r(""),de=r(!1),w=r(""),i=r(""),B=r(""),Te=r("1"),$e=(S,s)=>{w.value=S.label},ve=(S,s)=>S?s.label.includes(S):!0,le=we({isEdit:!0,invoiceHeader:"大財富商行",invoiceTaxType:"紙質專票",accountPhoneNumber:"02-1234567",accountBankName:"",invoiceTaxNumber:"",valueAddedTaxRate:"5%",invoiceEmail:"",accountBankNumber:"",textTypeOptions:[{label:"紙質專票",value:"1"},{label:"紙質普票",value:"2"},{label:"電子普票",value:"3"},{label:"電子專票",value:"4"},{label:"全電專票",value:"5"},{label:"全電普票",value:"6"},{label:"無須開票",value:"7"}],bankOptions:[{label:"中國銀行",value:"1"},{label:"招商銀行",value:"2"},{label:"建設銀行",value:"3"},{label:"工商銀行",value:"4"}]}),te=we({isEdit:!0,name:"聯繫人姓名",phone:"0988877997",title:"經理",otherContacts:[{id:Math.floor(new Date/1e3),name:"王小明",phone:"0988877997",title:"經理人"},{id:Math.floor(new Date/1e3),name:"陳蚱蜢",phone:"0977799779",title:"董事"}]}),Q=r([{followupRecord:"客戶拜訪",followupMethod:"上門拜訪",followupContent:"初次溝通",followupPerson:"王小明",date:"2023-09-18 10:28",mark:""},{followupRecord:"客戶電聯",followupMethod:"電話拜訪",followupContent:"方案確認",followupPerson:"張東東",date:"2024-12-01 15:00",mark:""}]),G=r([{clientName:"範例:上海帆軟",orderName:"上海帆軟-第3份銷售訂單",contactName:"張三",priceTier:"二級售價",signingDate:"2023-07-22",salesRepresentative:"張璿",salesOrderAmount:"9,150.00",approvalStatus:"審批通過",productName:"MQM8790-HS2R",productCode:"CP0002",salesQuantity:"3",actualSalePrice:"1,210.00",totalActualSalePrice:"3,630.00"},{clientName:"範例:上海帆軟",orderName:"上海帆軟-第4份銷售訂單",contactName:"李四",priceTier:"二級售價",signingDate:"2024-07-22",salesRepresentative:"張璿",salesOrderAmount:"9,150.00",approvalStatus:"審批通過",productName:"MQM8790-HS2R",productCode:"CP0002",salesQuantity:"3",actualSalePrice:"1,210.00",totalActualSalePrice:"3,630.00"},{clientName:"範例:上海帆軟",orderName:"上海帆軟-第4份銷售訂單",contactName:"孟鈺",priceTier:"三級售價",signingDate:"2024-04-22",salesRepresentative:"張璿",salesOrderAmount:"9,150.00",approvalStatus:"審批通過",productName:"MQM8790-HS2R",productCode:"CP0002",salesQuantity:"3",actualSalePrice:"1,210.00",totalActualSalePrice:"3,630.00"}]),ae=r([{prop:"clientName",label:"客戶名稱",sortable:!0,minWidth:140},{prop:"orderName",label:"銷售訂單名稱",sortable:!0,minWidth:140},{prop:"contactName",label:"客戶聯繫人姓名",sortable:!0,minWidth:150},{prop:"priceTier",label:"價格等級",sortable:!0,minWidth:110},{prop:"signingDate",label:"訂單簽訂日期",sortable:!0,minWidth:140},{prop:"salesRepresentative",label:"銷售負責人",sortable:!0,minWidth:130},{prop:"salesOrderAmount",label:"銷售訂單金額/元",sortable:!0,minWidth:160},{prop:"approvalStatus",label:"審批結果",sortable:!0,minWidth:110,slotName:"approvalStatus"},{label:"銷售產品明細",children:[{prop:"productName",label:"產品名稱",minWidth:120},{prop:"productCode",label:"產品編碼",minWidth:120},{prop:"salesQuantity",label:"銷售數量",minWidth:120},{prop:"actualSalePrice",label:"實際售價/元",minWidth:120},{prop:"totalActualSalePrice",label:"實際售價合計/元",minWidth:140}]}]),Y=r([{clientName:"範例:上海帆軟",orderName:"上海帆軟-第3份銷售訂單",productName:"Catalyst8300",productCode:"CP0003",salesQty:"4",outboundQty:"4",unshippedReturnQty:"0",shippedReturnQty:"0",exchangeQty:"0",pendingOutboundQty:"0",blockedStockQty:"0",plannedOutboundQty:"0",pendingPlannedOutboundQty:"0",reconciledQty:"4",pendingReconciledQty:"0",accountReceivableAmount:"5520",collectionAmount:"5520",pendingCollectionAmount:"0"}]),ne=r([{prop:"clientName",label:"客戶名稱",sortable:!0,minWidth:140},{prop:"orderName",label:"銷售訂單名稱",sortable:!0,minWidth:140},{prop:"productName",label:"產品名稱",sortable:!0,minWidth:150},{prop:"productCode",label:"產品編碼",sortable:!0,minWidth:110},{prop:"salesQty",label:"銷售數量",sortable:!0,minWidth:140},{prop:"outboundQty",label:"出庫數量",sortable:!0,minWidth:130},{prop:"unshippedReturnQty",label:"未出庫-退貨數量",sortable:!0,minWidth:160},{prop:"shippedReturnQty",label:"已出庫-退貨數量",sortable:!0,minWidth:160},{prop:"exchangeQty",label:"換貨數量",sortable:!0,minWidth:160},{prop:"pendingOutboundQty",label:"待出庫數量",sortable:!0,minWidth:160},{prop:"blockedStockQty",label:"庫存凍結數量",sortable:!0,minWidth:160},{prop:"plannedOutboundQty",label:"計畫出庫數量",sortable:!0,minWidth:160},{prop:"pendingPlannedOutboundQty",label:"待規劃出庫數量",sortable:!0,minWidth:160},{prop:"reconciledQty",label:"已對帳數量",sortable:!0,minWidth:160},{prop:"pendingReconciledQty",label:"待對帳數量",sortable:!0,minWidth:160},{prop:"accountReceivableAmount",label:"應收金額/元",sortable:!0,minWidth:160},{prop:"collectionAmount",label:"收款金額/元",sortable:!0,minWidth:160},{prop:"pendingCollectionAmount",label:"待收款金額/元",sortable:!0,minWidth:160}]),re=r("1"),f=r([{clientNo:"KH240729-01",clientName:"軟件有限公司",clientType:"潛在客戶",clientSource:"百度SEM",clientTag:"ME",priceTier:"一級售價",settlementType:"月結",creditLimit:"8000000",salesRepresentative:"張璿",salesDepartment:"軟件有限公司",clientAddress:"",invoiceHeader:"進銷存有限公司",invoiceTaxNumber:"123456123456",invoiceTaxType:"電子普票",valueAddedTaxRate:"13%",accountPhoneNumber:"0288877997",invoiceEmail:"288877997@hotmail.com",accountBankName:"王道銀行",accountBankNumber:"123456789123456789",contactName:"王小明",contactPhone:"09123456789",contactTitle:"財務總監",otherContactInfo:{children:[{contactName:"",contactPhone:"",contactTitle:""}]},submitter:"張璿",submitTime:"2024-07-29 16:55:30",updateTime:"2024-07-29 16:55:30"},{clientNo:"KH240729-02",clientName:"軟件有限公司",clientType:"戰略客戶",clientSource:"官網註冊",clientTag:"SMB",priceTier:"一級售價",settlementType:"月結",creditLimit:"8000000",salesRepresentative:"張璿",salesDepartment:"軟件有限公司",clientAddress:"",invoiceHeader:"進銷存有限公司",invoiceTaxNumber:"123456123456",invoiceTaxType:"電子普票",valueAddedTaxRate:"13%",accountPhoneNumber:"0288877997",invoiceEmail:"288877997@hotmail.com",accountBankName:"王道銀行",accountBankNumber:"123456789123456789",contactName:"王小明",contactPhone:"09123456789",contactTitle:"財務總監",otherContactInfo:{children:[{contactName:"",contactPhone:"",contactTitle:""}]},submitter:"張璿",submitTime:"2024-07-29 16:55:30",updateTime:"2024-07-29 16:55:30"},{clientNo:"KH240729-02",clientName:"軟件有限公司",clientType:"成交客戶",clientSource:"轉介紹",clientTag:"SMB",priceTier:"一級售價",settlementType:"現結",creditLimit:"8000000",salesRepresentative:"王小明",salesDepartment:"軟件有限公司",clientAddress:"",invoiceHeader:"進銷存有限公司",invoiceTaxNumber:"123456123456",invoiceTaxType:"電子普票",valueAddedTaxRate:"13%",accountPhoneNumber:"0288877997",invoiceEmail:"288877997@hotmail.com",accountBankName:"王道銀行",accountBankNumber:"123456789123456789",contactName:"王小明",contactPhone:"09123456789",contactTitle:"財務總監",otherContactInfo:{children:[{contactName:"",contactPhone:"",contactTitle:""}]},submitter:"張璿",submitTime:"2024-07-29 16:55:30",updateTime:"2024-07-29 16:55:30"}]),U=Ue(()=>f.value.filter(S=>S.clientType==="潛在客戶")),n=Ue(()=>f.value.filter(S=>S.clientType==="成交客戶")),O=Ue(()=>f.value.filter(S=>S.clientType==="戰略客戶")),Z=r([{prop:"clientNo",label:"客戶編碼",minWidth:120},{prop:"clientName",label:"客戶名稱",minWidth:150},{prop:"clientType",label:"客戶分類",minWidth:100,slot:"clientType"},{prop:"clientSource",label:"客戶來源",minWidth:100},{prop:"clientTag",label:"客戶標籤",minWidth:100,slot:"clientTag"},{prop:"priceTier",label:"價格等級",minWidth:100},{prop:"settlementType",label:"結算期限",minWidth:100},{prop:"creditLimit",label:"信用額度/元",minWidth:150},{prop:"salesRepresentative",label:"銷售負責人",minWidth:150},{prop:"salesDepartment",label:"銷售歸屬部門",minWidth:150},{prop:"clientAddress",label:"客戶地址",minWidth:200},{prop:"invoiceHeader",label:"發票抬頭",minWidth:150},{prop:"invoiceTaxNumber",label:"發票稅號",minWidth:150},{prop:"invoiceTaxType",label:"稅種",minWidth:100},{prop:"valueAddedTaxRate",label:"增值稅稅率%",minWidth:150},{prop:"accountPhoneNumber",label:"開戶電話",minWidth:150},{prop:"invoiceEmail",label:"收票郵箱",minWidth:150},{prop:"accountBankName",label:"開戶銀行",minWidth:150},{prop:"accountBankNumber",label:"銀行賬戶",minWidth:150},{prop:"contactName",label:"聯絡人姓名",minWidth:150},{prop:"contactPhone",label:"聯絡人手機",minWidth:150},{prop:"contactTitle",label:"聯絡人職位",minWidth:150},{prop:"otherContactInfo",label:"其他聯絡人資料",minWidth:150,children:[{prop:"contactName",label:"聯絡人姓名",minWidth:150},{prop:"contactPhone",label:"聯絡人手機",minWidth:150},{prop:"contactTitle",label:"聯絡人職位",minWidth:150}]},{prop:"submitter",label:"送出人",minWidth:100},{prop:"submitTime",label:"送出時間",minWidth:150},{prop:"updateTime",label:"更新時間",minWidth:150}]),oe=we({isEdit:!1,invoiceHeader:"大財富商行",invoiceTaxType:"紙質專票",accountPhoneNumber:"02-1234567",accountBankName:"",invoiceTaxNumber:"",valueAddedTaxRate:"5%",invoiceEmail:"",accountBankNumber:""}),se=we({isEdit:!1,name:"聯繫人姓名",phone:"0988877997",title:"經理",otherContacts:[{id:Math.floor(new Date/1e3),name:"王小明",phone:"0988877997",title:"經理人"},{id:Math.floor(new Date/1e3),name:"陳蚱蜢",phone:"0977799779",title:"董事"}]}),M=S=>{switch(S){case"潛在客戶":return"danger";case"戰略合作":return"primary";case"成交客戶":return"success";case"SMB":return"warning";case"ME":return"primary";case"KA":return"success";default:return"info"}};return Me(h,function(S){X.value.filter(S)}),Me(i,function(S){B.value.filter(S)}),(S,s)=>{const R=c("el-option"),Ie=c("el-divider"),ge=c("el-select"),Pe=c("el-col"),Ce=c("el-row"),me=c("el-input"),ue=c("el-form-item"),W=c("el-tag"),ye=c("el-button"),We=c("el-cascader"),m=c("el-form"),$=c("el-tab-pane"),De=c("el-tabs"),Je=c("el-radio"),Xe=c("el-radio-group"),Be=c("el-dialog");return d(),v("main",Ut,[l(Ce,{class:"p-3 bg-white rounded-md shadow flex justify-end md:justify-start"},{default:t(()=>[l(Pe,{span:5},{default:t(()=>[l(ge,{modelValue:e(A),"onUpdate:modelValue":s[0]||(s[0]=o=>b(A)?A.value=o:null),placeholder:"請選擇"},{default:t(()=>[l(R,{label:"僅新增資料",value:"add"}),l(R,{label:"添加並管理個人數據",value:"personal_manage"}),l(R,{label:"添加並管理數據",value:"manage"}),l(R,{label:"查看全部資料",value:"view"}),l(Ie),l(R,{label:"全部有限權的資料",value:"restricted"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(A)==="add"?(d(),v("div",St,[a("div",At,[s[31]||(s[31]=a("h2",{class:"text-lg font-bold text-primary border-b-4 border-blue-100"}," 客戶基本資料 ",-1)),l(m,{"label-position":"top",class:"grid grid-cols-1 xl:grid-cols-4 gap-4 p-6 font-bold"},{default:t(()=>[a("div",null,[l(ue,{label:"客戶編碼",required:!1},{default:t(()=>[l(me,{class:"xl:max-w-lg",disabled:"",placeholder:"自動生成無需填寫",modelValue:e(p),"onUpdate:modelValue":s[1]||(s[1]=o=>b(p)?p.value=o:null)},null,8,["modelValue"])]),_:1}),l(ue,{label:"客戶分類",required:!1},{default:t(()=>[l(ge,{modelValue:e(E),"onUpdate:modelValue":s[2]||(s[2]=o=>b(E)?E.value=o:null),placeholder:"請選擇",class:"w-full",filterable:"",remote:"","reserve-keyword":"","remote-show-suffix":""},{default:t(()=>[(d(!0),v(H,null,J(e(D),o=>(d(),C(R,{key:o.value,label:o.label,value:o.value},{default:t(({option:Ye})=>[l(W,{type:o.type},{default:t(()=>[u(y(o.label),1)]),_:2},1032,["type"])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(ue,{label:"客戶標籤",required:!1},{default:t(()=>[l(ge,{modelValue:e(k),"onUpdate:modelValue":s[3]||(s[3]=o=>b(k)?k.value=o:null),placeholder:"請選擇",class:"w-full",filterable:"",remote:"","reserve-keyword":"","remote-show-suffix":""},{default:t(()=>[(d(!0),v(H,null,J(e(V),o=>(d(),C(R,{label:o.label,value:o.value,key:o.value},{default:t(({option:Ye})=>[l(W,{type:o.type},{default:t(()=>[u(y(o.label),1)]),_:2},1032,["type"])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(ue,{label:"結算期限",required:!1},{default:t(()=>[l(ge,{modelValue:e(T),"onUpdate:modelValue":s[4]||(s[4]=o=>b(T)?T.value=o:null),placeholder:"請選擇",class:"w-full",filterable:"",remote:"","reserve-keyword":"","remote-show-suffix":""},{default:t(()=>[(d(!0),v(H,null,J(e(P),o=>(d(),C(R,{label:o.label,value:o.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),l(ue,{label:"銷售負責人",required:!0},{default:t(()=>[e(L)==""?(d(),C(ye,{key:0,plain:"",onClick:s[5]||(s[5]=o=>g.value=!0),class:"border-dashed w-full"},{default:t(()=>[...s[29]||(s[29]=[a("span",null,[a("i",{class:"ri-add-line px-1"}),u("選擇成員")],-1)])]),_:1})):(d(),v("div",{key:1,onClick:s[6]||(s[6]=tl(o=>g.value=!0,["prevent"])),class:"border-dashed border border-gray-200 text-left w-full cursor-pointer"},[l(W,{size:"large",type:"primary",class:"inline-block m-1"},{default:t(()=>[u(y(e(L)),1)]),_:1})]))]),_:1}),l(ue,{label:"客戶地址",required:!1},{default:t(()=>[l(We,{options:e(z),clearable:"",class:"w-full mb-2",placeholder:"請選擇位址"},null,8,["options"]),l(me,{modelValue:e(fe),"onUpdate:modelValue":s[7]||(s[7]=o=>b(fe)?fe.value=o:null),class:"w-full",rows:2,type:"textarea",placeholder:"請填寫詳細地址"},null,8,["modelValue"])]),_:1})]),a("div",It,[l(ue,{label:"客戶名稱",required:!0},{default:t(()=>[l(me,{placeholder:"",class:"w-full",modelValue:e(be),"onUpdate:modelValue":s[8]||(s[8]=o=>b(be)?be.value=o:null)},null,8,["modelValue"])]),_:1}),l(ue,{label:"客戶來源",required:!1},{default:t(()=>[l(ge,{modelValue:e(_e),"onUpdate:modelValue":s[9]||(s[9]=o=>b(_e)?_e.value=o:null),placeholder:"搜尋",class:"w-full",filterable:"",remote:"","reserve-keyword":"","remote-show-suffix":""},{default:t(()=>[(d(!0),v(H,null,J(e(_),o=>(d(),C(R,{label:o.label,value:o.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),l(ue,{label:"價格等級",required:!1},{default:t(()=>[l(ge,{modelValue:e(he),"onUpdate:modelValue":s[10]||(s[10]=o=>b(he)?he.value=o:null),placeholder:"搜尋",class:"w-full",filterable:"",remote:"","reserve-keyword":"","remote-show-suffix":""},{default:t(()=>[(d(!0),v(H,null,J(e(pe),o=>(d(),C(R,{label:o.label,value:o.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),l(ue,{label:"信用額度/元"},{default:t(()=>[l(me,{placeholder:"",class:"w-full",modelValue:e(xe),"onUpdate:modelValue":s[11]||(s[11]=o=>b(xe)?xe.value=o:null)},null,8,["modelValue"])]),_:1}),l(ue,{label:"銷售歸屬部門"},{default:t(()=>[e(w)==""?(d(),C(ye,{key:0,plain:"",class:"border-dashed border-2 border-gray-500 w-full",onClick:s[12]||(s[12]=o=>de.value=!0)},{default:t(()=>[...s[30]||(s[30]=[a("span",null,[a("i",{class:"ri-add-line px-1"}),u("選擇部門")],-1)])]),_:1})):(d(),v("div",{key:1,onClick:s[13]||(s[13]=o=>de.value=!0),class:"border-dashed border border-gray-200 text-left w-full cursor-pointer"},[l(W,{size:"large",type:"primary",class:"inline-block m-1"},{default:t(()=>[u(y(e(w)),1)]),_:1})]))]),_:1})])]),_:1}),a("div",Pt,[l(De,{class:"mb-4",type:"border-card"},{default:t(()=>[l($,{label:"財務資料"},{default:t(()=>[l(He,{editable:e(le).isEdit,invoiceHeader:e(le).invoiceHeader,invoiceTaxType:e(le).invoiceTaxType,accountPhoneNumber:e(le).accountPhoneNumber,accountBankName:e(le).accountBankName,invoiceTaxNumber:e(le).invoiceTaxNumber,valueAddedTaxRate:e(le).valueAddedTaxRate,invoiceEmail:e(le).invoiceEmail,accountBankNumber:e(le).accountBankNumber,textTypeOptions:e(le).textTypeOptions,bankOptions:e(le).bankOptions},null,8,["editable","invoiceHeader","invoiceTaxType","accountPhoneNumber","accountBankName","invoiceTaxNumber","valueAddedTaxRate","invoiceEmail","accountBankNumber","textTypeOptions","bankOptions"])]),_:1}),l($,{label:"聯繫人資料"},{default:t(()=>[l(Qe,{editable:e(te).isEdit,name:e(te).name,phone:e(te).phone,title:e(te).title,otherContactInfo:e(te).otherContacts},null,8,["editable","name","phone","title","otherContactInfo"])]),_:1}),l($,{label:"跟進紀錄"},{default:t(()=>[l(Le,{data:e(Q)},null,8,["data"])]),_:1}),l($,{label:"銷售訂單"},{default:t(()=>[l(Ke,{tableData:e(G),columns:e(ae)},null,8,["tableData","columns"]),l(Ge,{tableData:e(Y),columns:e(ne)},null,8,["tableData","columns"])]),_:1})]),_:1})])]),a("div",Wt,[l(ye,{type:"primary",class:"w-24"},{default:t(()=>[...s[32]||(s[32]=[u("送出",-1)])]),_:1})])])):e(A)==="personal_manage"?(d(),v("div",Et,[a("div",zt,[l(De,{modelValue:e(re),"onUpdate:modelValue":s[14]||(s[14]=o=>b(re)?re.value=o:null),class:"demo-tabs"},{default:t(()=>[l($,{label:"全部客戶",name:"1"},{default:t(()=>[l(ke,{tableData:e(f),columns:e(Z),financeInfo:e(oe),contactInfo:e(se),followUpData:e(Q),salesData:e(G),salesColumns:e(ae),salesTrackData:e(Y),salesTrackColumns:e(ne)},{clientType:t(({row:o})=>[l(W,{type:M(o.clientType),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientType),1)]),_:2},1032,["type"])]),clientTag:t(({row:o})=>[l(W,{type:M(o.clientTag),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientTag),1)]),_:2},1032,["type"])]),_:1},8,["tableData","columns","financeInfo","contactInfo","followUpData","salesData","salesColumns","salesTrackData","salesTrackColumns"])]),_:1}),l($,{label:"潛在客戶",name:"2"},{default:t(()=>[l(ke,{tableData:e(U),columns:e(Z),financeInfo:e(oe),contactInfo:e(se),followUpData:e(Q),salesData:e(G),salesColumns:e(ae),salesTrackData:e(Y),salesTrackColumns:e(ne)},{clientType:t(({row:o})=>[l(W,{type:M(o.clientType),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientType),1)]),_:2},1032,["type"])]),clientTag:t(({row:o})=>[l(W,{type:M(o.clientTag),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientTag),1)]),_:2},1032,["type"])]),_:1},8,["tableData","columns","financeInfo","contactInfo","followUpData","salesData","salesColumns","salesTrackData","salesTrackColumns"])]),_:1}),l($,{label:"成交客戶",name:"3"},{default:t(()=>[l(ke,{tableData:e(n),columns:e(Z),financeInfo:e(oe),contactInfo:e(se),followUpData:e(Q),salesData:e(G),salesColumns:e(ae),salesTrackData:e(Y),salesTrackColumns:e(ne)},{clientType:t(({row:o})=>[l(W,{type:M(o.clientType),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientType),1)]),_:2},1032,["type"])]),clientTag:t(({row:o})=>[l(W,{type:M(o.clientTag),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientTag),1)]),_:2},1032,["type"])]),_:1},8,["tableData","columns","financeInfo","contactInfo","followUpData","salesData","salesColumns","salesTrackData","salesTrackColumns"])]),_:1}),l($,{label:"戰略客戶",name:"4"},{default:t(()=>[l(ke,{tableData:e(O),columns:e(Z),financeInfo:e(oe),contactInfo:e(se),followUpData:e(Q),salesData:e(G),salesColumns:e(ae),salesTrackData:e(Y),salesTrackColumns:e(ne)},{clientType:t(({row:o})=>[l(W,{type:M(o.clientType),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientType),1)]),_:2},1032,["type"])]),clientTag:t(({row:o})=>[l(W,{type:M(o.clientTag),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientTag),1)]),_:2},1032,["type"])]),_:1},8,["tableData","columns","financeInfo","contactInfo","followUpData","salesData","salesColumns","salesTrackData","salesTrackColumns"])]),_:1})]),_:1},8,["modelValue"])])])):e(A)==="manage"?(d(),v("div",Bt,[a("div",Ot,[l(De,{modelValue:e(re),"onUpdate:modelValue":s[15]||(s[15]=o=>b(re)?re.value=o:null),class:"demo-tabs"},{default:t(()=>[l($,{label:"全部客戶",name:"1"},{default:t(()=>[l(ke,{tableData:e(f),columns:e(Z),financeInfo:e(oe),contactInfo:e(se),followUpData:e(Q),salesData:e(G),salesColumns:e(ae),salesTrackData:e(Y),salesTrackColumns:e(ne)},{clientType:t(({row:o})=>[l(W,{type:M(o.clientType),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientType),1)]),_:2},1032,["type"])]),clientTag:t(({row:o})=>[l(W,{type:M(o.clientTag),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientTag),1)]),_:2},1032,["type"])]),_:1},8,["tableData","columns","financeInfo","contactInfo","followUpData","salesData","salesColumns","salesTrackData","salesTrackColumns"])]),_:1}),l($,{label:"潛在客戶",name:"2"},{default:t(()=>[l(ke,{tableData:e(U),columns:e(Z),financeInfo:e(oe),contactInfo:e(se),followUpData:e(Q),salesData:e(G),salesColumns:e(ae),salesTrackData:e(Y),salesTrackColumns:e(ne)},{clientType:t(({row:o})=>[l(W,{type:M(o.clientType),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientType),1)]),_:2},1032,["type"])]),clientTag:t(({row:o})=>[l(W,{type:M(o.clientTag),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientTag),1)]),_:2},1032,["type"])]),_:1},8,["tableData","columns","financeInfo","contactInfo","followUpData","salesData","salesColumns","salesTrackData","salesTrackColumns"])]),_:1}),l($,{label:"成交客戶",name:"3"},{default:t(()=>[l(ke,{tableData:e(n),columns:e(Z),financeInfo:e(oe),contactInfo:e(se),followUpData:e(Q),salesData:e(G),salesColumns:e(ae),salesTrackData:e(Y),salesTrackColumns:e(ne)},{clientType:t(({row:o})=>[l(W,{type:M(o.clientType),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientType),1)]),_:2},1032,["type"])]),clientTag:t(({row:o})=>[l(W,{type:M(o.clientTag),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientTag),1)]),_:2},1032,["type"])]),_:1},8,["tableData","columns","financeInfo","contactInfo","followUpData","salesData","salesColumns","salesTrackData","salesTrackColumns"])]),_:1}),l($,{label:"戰略客戶",name:"4"},{default:t(()=>[l(ke,{tableData:e(O),columns:e(Z),financeInfo:e(oe),contactInfo:e(se),followUpData:e(Q),salesData:e(G),salesColumns:e(ae),salesTrackData:e(Y),salesTrackColumns:e(ne)},{clientType:t(({row:o})=>[l(W,{type:M(o.clientType),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientType),1)]),_:2},1032,["type"])]),clientTag:t(({row:o})=>[l(W,{type:M(o.clientTag),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientTag),1)]),_:2},1032,["type"])]),_:1},8,["tableData","columns","financeInfo","contactInfo","followUpData","salesData","salesColumns","salesTrackData","salesTrackColumns"])]),_:1})]),_:1},8,["modelValue"])])])):e(A)==="view"?(d(),v("div",Mt,[a("div",Rt,[l(ke,{isButtonArea:!1,tableData:e(f),columns:e(Z),financeInfo:e(oe),contactInfo:e(se),followUpData:e(Q),salesData:e(G),salesColumns:e(ae),salesTrackData:e(Y),salesTrackColumns:e(ne)},{clientType:t(({row:o})=>[l(W,{type:M(o.clientType),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientType),1)]),_:2},1032,["type"])]),clientTag:t(({row:o})=>[l(W,{type:M(o.clientTag),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientTag),1)]),_:2},1032,["type"])]),_:1},8,["tableData","columns","financeInfo","contactInfo","followUpData","salesData","salesColumns","salesTrackData","salesTrackColumns"])])])):e(A)==="restricted"?(d(),v("div",qt,[a("div",Ft,[l(ke,{tableData:e(f),columns:e(Z),financeInfo:e(oe),contactInfo:e(se),followUpData:e(Q),salesData:e(G),salesColumns:e(ae),salesTrackData:e(Y),salesTrackColumns:e(ne)},{clientType:t(({row:o})=>[l(W,{type:M(o.clientType),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientType),1)]),_:2},1032,["type"])]),clientTag:t(({row:o})=>[l(W,{type:M(o.clientTag),effect:"dark",class:"mr-2"},{default:t(()=>[u(y(o.clientTag),1)]),_:2},1032,["type"])]),_:1},8,["tableData","columns","financeInfo","contactInfo","followUpData","salesData","salesColumns","salesTrackData","salesTrackColumns"])])])):Ne("",!0),l(Be,{modelValue:e(g),"onUpdate:modelValue":s[22]||(s[22]=o=>b(g)?g.value=o:null),width:"800"},{header:t(()=>[...s[33]||(s[33]=[a("div",{class:"flex flex-col items-start"},[a("span",{class:"text-lg font-bold text-gray-500 px-2 pt-2"},"成員列表")],-1)])]),default:t(()=>[s[38]||(s[38]=a("hr",{class:"w-full border-t border-gray-300 py-2"},null,-1)),a("div",null,[a("div",jt,[e(L)?(d(),C(ye,{key:0,type:"primary",text:"",bg:"",icon:e(Re),onClick:s[16]||(s[16]=o=>L.value="")},{default:t(()=>[u(y(e(L)),1)]),_:1},8,["icon"])):Ne("",!0)]),l(De,{modelValue:e(K),"onUpdate:modelValue":s[19]||(s[19]=o=>b(K)?K.value=o:null),class:"demo-tabs border-b-2"},{default:t(()=>[l($,{label:"成員",name:"1"},{default:t(()=>[a("div",null,[l(me,{modelValue:e(h),"onUpdate:modelValue":s[17]||(s[17]=o=>b(h)?h.value=o:null),style:{width:"100%"},placeholder:"搜尋部門",class:"my-2",clearable:""},null,8,["modelValue"]),a("div",Qt,[a("div",Ht,[l(e(qe),{ref_key:"treeRef",ref:X,style:{"max-width":"800px"},class:"filter-tree",data:e(ce),"default-expand-all":"","filter-node-method":j,onNodeClick:x},{default:t(({node:o})=>[a("span",{style:Fe({color:e(I)===o.label?"#409EFF":"inherit"})},y(o.label),5)]),_:1},8,["data"])]),a("div",Lt,[e(F).length!==0?(d(),C(Xe,{key:0,modelValue:e(L),"onUpdate:modelValue":s[18]||(s[18]=o=>b(L)?L.value=o:null)},{default:t(()=>[a("div",Kt,[(d(!0),v(H,null,J(e(F),o=>(d(),C(Je,{key:o.value,value:o.value},{default:t(()=>[u(y(o.name),1)]),_:2},1032,["value"]))),128))])]),_:1},8,["modelValue"])):(d(),v("div",Gt,[...s[34]||(s[34]=[a("p",null,"沒有可選成員",-1)])]))])])])]),_:1}),l($,{label:"當前使用者",name:"2"},{default:t(()=>[...s[35]||(s[35]=[a("div",{class:"flex items-center justify-center h-72"},[a("p",null,"沒有可選成員")],-1)])]),_:1})]),_:1},8,["modelValue"]),a("div",Jt,[l(ye,{onClick:s[20]||(s[20]=o=>g.value=!1)},{default:t(()=>[...s[36]||(s[36]=[u("取消",-1)])]),_:1}),l(ye,{type:"primary",onClick:s[21]||(s[21]=o=>g.value=!1)},{default:t(()=>[...s[37]||(s[37]=[u(" 確定 ",-1)])]),_:1})])])]),_:1},8,["modelValue"]),l(Be,{modelValue:e(de),"onUpdate:modelValue":s[28]||(s[28]=o=>b(de)?de.value=o:null),width:"800"},{header:t(()=>[...s[39]||(s[39]=[a("div",{class:"flex flex-col items-start"},[a("span",{class:"text-lg font-bold text-gray-500 px-2 pt-2"},"部門清單")],-1)])]),default:t(()=>[s[43]||(s[43]=a("hr",{class:"w-full border-t border-gray-300 py-2"},null,-1)),a("div",null,[a("div",Xt,[e(w)?(d(),C(ye,{key:0,type:"primary",text:"",bg:"",icon:e(Re),onClick:s[23]||(s[23]=o=>w.value="")},{default:t(()=>[u(y(e(w)),1)]),_:1},8,["icon"])):Ne("",!0)]),l(De,{modelValue:e(Te),"onUpdate:modelValue":s[25]||(s[25]=o=>b(Te)?Te.value=o:null),class:"demo-tabs border-b-2"},{default:t(()=>[l($,{label:"組織架構",name:"1"},{default:t(()=>[a("div",null,[l(me,{modelValue:e(i),"onUpdate:modelValue":s[24]||(s[24]=o=>b(i)?i.value=o:null),style:{width:"100%"},placeholder:"搜尋部門",class:"my-2",clearable:""},null,8,["modelValue"]),a("div",Yt,[l(e(qe),{ref_key:"treeDeptRef",ref:B,style:{"max-width":"800px"},class:"filter-tree",data:e(ce),"default-expand-all":"","filter-node-method":ve,onNodeClick:$e},{default:t(({node:o})=>[a("span",{style:Fe({color:e(w)===o.label?"#409EFF":"inherit"})},y(o.label),5)]),_:1},8,["data"])])])]),_:1}),l($,{label:"當前使用者所處部門",name:"2"},{default:t(()=>[...s[40]||(s[40]=[a("div",{class:"flex items-center justify-center h-72"},null,-1)])]),_:1})]),_:1},8,["modelValue"]),a("div",Zt,[l(ye,{onClick:s[26]||(s[26]=o=>de.value=!1)},{default:t(()=>[...s[41]||(s[41]=[u("取消",-1)])]),_:1}),l(ye,{type:"primary",onClick:s[27]||(s[27]=o=>de.value=!1)},{default:t(()=>[...s[42]||(s[42]=[u(" 確定 ",-1)])]),_:1})])])]),_:1},8,["modelValue"])])}}},ta=ze(ea,[["__scopeId","data-v-8191e1e1"]]);export{ta as default};
