import{M as _}from"./ManageTable-CLoVzGHA.js";import{_ as Me,r as s,o as Qe,a as $e,A as Le,y as Ie,L as Re,b as k,d as b,k as l,i as se,w as t,j as i,u as n,e as o,l as u,m as d,v as f,F as K,q as J,h as N,z as Ye}from"./index-DuMLqF1m.js";const je={class:"flex flex-col space-y-4"},Ee={key:0},qe={class:"p-8 bg-white rounded-t-md shadow max-h-[82vh] overflow-y-auto"},Fe={class:"w-full"},ze={class:"flex space-x-2 justify-center"},Oe={class:"group-hover:hidden"},Ge={class:"group-hover:block hidden"},He={class:"grid grid-cols-3 gap-2 items-center"},Ke={class:"col-span-1 mt-1"},Je={class:"editTable mt-2"},Xe={class:"p-4 bg-white rounded-b-md shadow text-center mt-auto border-t"},Ze={key:1,class:"p-2 bg-white rounded-md shadow min-h-[88vh] overflow-auto"},el={key:2,class:"p-2 bg-white rounded-md shadow min-h-[88vh] overflow-auto"},ll={key:3,class:"p-2 bg-white rounded-md shadow min-h-[88vh] overflow-auto"},tl={key:4,class:"p-2 bg-white rounded-md shadow min-h-[88vh] overflow-auto"},al={class:"flex justify-between mb-2"},ol={class:"flex items-center"},nl={class:"dialog-footer border-t pt-4"},rl={class:"p-2 min-h-12 mb-2 border border-dashed border-gray-300 flex items-center"},dl={class:"grid grid-cols-2"},sl={class:"h-72 min-h-72 overflow-y-auto border-r-2"},il={class:"pl-4 h-72"},ul={key:0},pl={class:"flex flex-col"},bl={key:1,class:"flex h-72 items-center justify-center"},ml={class:"dialog-footer border-t pt-4"},fl={class:"p-2 min-h-12 mb-2 border border-dashed border-gray-300 flex items-center"},cl={class:"h-72 min-h-72 overflow-y-auto"},gl={class:"dialog-footer border-t pt-4"},vl={__name:"TransferView",setup(yl){const V=s("add"),C=s(!1),D=s(!1),W=s(!1),A=s("1"),B=s(""),X=s(""),Z=s(""),ee=s(""),le=s(""),te=s(""),E=s(""),q=s(!1),M=s([]),ae=s([]),T=s("member"),S=s(""),oe=s(null),F=s([]),Q=s(null),$=s(null),z=s(null),ge=r=>{const c=r.clipboardData.getData("text/plain");if(!c)return;if(c.includes('"')){alert("貼上的數據格式錯誤！"),r.preventDefault();return}ae.value.push([...M.value]);const ne=c.trim().split(`
`).map(re=>{const g=re.split("	"),Y={};return ue.value.forEach((p,x)=>{Y[p.prop]=g[x]||""}),Y});M.value=[...M.value,...ne]},ie=r=>{r.ctrlKey&&r.key==="z"&&(ae.value.length>0?M.value=ae.value.pop():console.log("沒有更多的歷史數據可以復原"))};Qe(()=>{document.addEventListener("keydown",ie);const r=new Date;E.value=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`}),$e(()=>{document.removeEventListener("keydown",ie)});const L=Le([{pdName:"暫無內容",pdCode:"暫無內容",brand:"暫無內容",model:"暫無內容",unit:"暫無內容",outboundAvailableStock:"暫無內容",inboundAvailableStock:"暫無內容",transferQty:"",sellingPrice:"",costPrice:"",pdTotalAmount:"暫無內容",totalCost:"暫無內容"}]),ve=()=>{L.push({pdName:"暫無內容",pdCode:"暫無內容",brand:"暫無內容",model:"暫無內容",unit:"暫無內容",outboundAvailableStock:"暫無內容",inboundAvailableStock:"暫無內容",transferQty:"",sellingPrice:"",costPrice:"",pdTotalAmount:"暫無內容",totalCost:"暫無內容"})},ye=r=>{ElMessageBox.confirm("確定要刪除這筆資料嗎？","提示",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(()=>{L.splice(r,1)}).catch(()=>{})},he=s([{prop:"pdName",label:"產品名稱",minWidth:180},{prop:"pdCode",label:"產品編碼",minWidth:150},{prop:"brand",label:"品牌"},{prop:"model",label:"規格型號",minWidth:150},{prop:"unit",label:"單位",minWidth:100},{prop:"standardPrice",label:"標準銷售價格/元",align:"right",headerAlign:"left"}]),xe=s([{pdName:"手機",pdCode:"A001",brand:"華為",model:"P40 Pro",unit:"部",standardPrice:15e3},{pdName:"筆記型電腦",pdCode:"B001",brand:"蘋果",model:"MacBook Pro",unit:"台",standardPrice:4e4},{pdName:"智慧手錶",pdCode:"C001",brand:"Samsung",model:"Galaxy Watch 5",unit:"個",standardPrice:6e3}]),h=s([{prop:"transferType",label:"調撥類型",minWidth:120},{prop:"transferDate",label:"調撥申請日期",minWidth:150},{prop:"expectedDate",label:"期望到貨日期",minWidth:150},{prop:"applicant",label:"申請人員",minWidth:100},{prop:"applicantDepartment",label:"申請人員歸屬部門",minWidth:150},{prop:"transferID",label:"調撥單編號",minWidth:150},{prop:"outboundConfirm",label:"產品出庫確認",minWidth:120},{prop:"outboundImg",label:"拍照",minWidth:100},{prop:"outboundWarehouse",label:"調出倉庫",minWidth:100},{prop:"outboundTime",label:"調出時間",minWidth:100},{prop:"outboundStaff",label:"出庫人員",minWidth:100},{prop:"outboundDepartment",label:"倉管歸屬部門",minWidth:120},{prop:"inboundConfirm",label:"產品入庫確認",minWidth:120},{prop:"inboundImg",label:"拍照",minWidth:100},{prop:"inboundWarehouse",label:"調入倉庫",minWidth:100},{prop:"inboundTime",label:"調入時間",minWidth:100},{prop:"inboundStaff",label:"入庫人員",minWidth:100},{prop:"inboundDepartment",label:"倉管歸屬部門",minWidth:120},{prop:"pdTransferDetails",label:"調撥產品明細",headerAlign:"left",children:[{prop:"pdName",label:"產品名稱",minWidth:180},{prop:"pdCode",label:"產品編碼",minWidth:150},{prop:"brand",label:"品牌",minWidth:100},{prop:"model",label:"規格型號",minWidth:100},{prop:"unit",label:"單位",minWidth:100},{prop:"outboundAvailableStock",label:"調出倉庫可用庫存",minWidth:140,align:"right",headerAlign:"left"},{prop:"inboundAvailableStock",label:"調入倉庫可用庫存",minWidth:140,align:"right",headerAlign:"left"},{prop:"transferQty",label:"本次調撥數量",minWidth:130,align:"right",headerAlign:"left"},{prop:"transferQtyValid",label:"調撥數量校驗",minWidth:150,align:"right",headerAlign:"left"},{prop:"outboundLocation",label:"調出倉位",minWidth:100,align:"right",headerAlign:"left"},{prop:"inboundLocation",label:"調入倉位",minWidth:100,align:"right",headerAlign:"left"},{prop:"sellingPrice",label:"銷售單價(含稅)/元",minWidth:150,align:"right",headerAlign:"left"},{prop:"costPrice",label:"成本單價/元",minWidth:130,align:"right",headerAlign:"left"},{prop:"pdTotalAmount",label:"產品售價合計(含稅)/元",minWidth:180,align:"right",headerAlign:"left"},{prop:"totalCost",label:"產品成本合計/元",minWidth:150,align:"right",headerAlign:"left"}]},{prop:"transferTotalQty",label:"調撥產品總數",minWidth:110,align:"right",headerAlign:"left"},{prop:"transferTotalPrice",label:"調撥產品售價總額(含稅)/元",minWidth:180,align:"right",headerAlign:"left"},{prop:"transferTotalCost",label:"調撥產品成本總額/元",minWidth:180,align:"right",headerAlign:"left"},{prop:"submitter",label:"送出人",minWidth:80},{prop:"submitTime",label:"送出時間",minWidth:150},{prop:"updateTime",label:"更新時間",minWidth:150},{prop:"processStatus",label:"流程狀態",minWidth:100,slot:"processStatus"},{prop:"currentNode",label:"當前節點",minWidth:100},{prop:"currentResponsible",label:"當前負責人",minWidth:80}]),P=s([{transferType:"庫存預警",transferDate:"2023-10-01",expectedDate:"2023-10-10",applicant:"張三",applicantDepartment:"生產部",transferID:"TR20231001",outboundConfirm:"確認",outboundImg:"",outboundWarehouse:"A倉庫",outboundTime:"2023-10-02 10:00",outboundStaff:"李四",outboundDepartment:"生產部",inboundConfirm:"確認",inboundImg:"",inboundWarehouse:"B倉庫",inboundTime:"2023-10-03 15:00",inboundStaff:"王五",inboundDepartment:"銷售部",pdName:"產品A",pdCode:"A001",brand:"品牌A",model:"型號A",unit:"件",outboundAvailableStock:100,inboundAvailableStock:50,transferQty:10,transferQtyValid:"有效",outboundLocation:"A1",inboundLocation:"B1",sellingPrice:100,costPrice:80,pdTotalAmount:1e3,totalCost:800,transferTotalQty:10,transferTotalPrice:1e3,transferTotalCost:800,submitter:"張三",submitTime:"2023-10-01 09:00",updateTime:"2023-10-01 09:30",processStatus:"完成",currentNode:"節點1",currentResponsible:"張三"},{transferType:"清倉調撥",transferDate:"2023-10-05",expectedDate:"2023-10-15",applicant:"李四",applicantDepartment:"銷售部",transferID:"TR20231005",outboundConfirm:"確認",outboundImg:"",outboundWarehouse:"B倉庫",outboundTime:"2023-10-06 11:00",outboundStaff:"王五",outboundDepartment:"銷售部",inboundConfirm:"確認",inboundImg:"",inboundWarehouse:"A倉庫",inboundTime:"2023-10-07 16:00",inboundStaff:"張三",inboundDepartment:"生產部",pdName:"產品B",pdCode:"B001",brand:"品牌B",model:"型號B",unit:"件",outboundAvailableStock:200,inboundAvailableStock:100,transferQty:20,transferQtyValid:"有效",outboundLocation:"B1",inboundLocation:"A1",sellingPrice:200,costPrice:160,pdTotalAmount:4e3,totalCost:3200,transferTotalQty:20,transferTotalPrice:4e3,transferTotalCost:3200,submitter:"李四",submitTime:"2023-10-05 10:00",updateTime:"2023-10-05 10:30",processStatus:"進行中",currentNode:"節點2",currentResponsible:"李四"}]),ue=s([{prop:"transferQty",label:"本次入庫數量"},{prop:"sellingPrice",label:"銷售單價(含稅)/元"},{prop:"costPrice",label:"成本單價/元"}]),pe=s([]),we=r=>{pe.value=r},_e=()=>{L.length=0,pe.value.forEach(r=>{const e={pdName:r.pdName||"暫無內容",pdCode:r.pdCode||"暫無內容",brand:r.brand||"暫無內容",model:r.model||"暫無內容",unit:r.unit||"暫無內容",outboundAvailableStock:r.outboundAvailableStock||"暫無內容",inboundAvailableStock:r.inboundAvailableStock||"暫無內容",transferQty:r.transferQty||"",sellingPrice:r.sellingPrice||"",costPrice:r.costPrice||"",pdTotalAmount:r.pdTotalAmount||"暫無內容",totalCost:r.totalCost||"暫無內容"};L.push(e)}),C.value=!1},ke=Ie(()=>xe.value.filter(r=>!B.value||r.name.toLowerCase().includes(B.value.toLowerCase()))),U=r=>{switch(r){case"審批通過":return"success";case"待審批":return"warning";case"已拒絕":return"danger";default:return"info"}},I=r=>{switch(r){case"完成":return"success";case"進行中":return"primary";case"已停止":return"danger";default:return"info"}},Ve=r=>{switch(r){case"出庫":return"success";case"計畫出庫":return"warning";case"庫存凍結":return"danger";default:return"info"}},be=(r,e)=>{};Re(S,function(r){oe.value.filter(r)});const me=(r,e)=>r?e.label.includes(r):!0,Se=r=>{F.value=De(r.id),Q.value=null,$.value=null},Ce=r=>{z.value=r.label},De=r=>({101:[{id:"1",name:"張三"},{id:"2",name:"李四"}],201:[{id:"3",name:"王五"},{id:"4",name:"趙六"}],202:[{id:"5",name:"小明"},{id:"6",name:"小紅"}]})[r]||[],fe=s([{id:1,label:"軟件有限公司",children:[{id:"101",label:"生產部"},{id:"102",label:"銷售部",children:[{id:"201",label:"銷售一部"},{id:"202",label:"銷售二部"}]},{id:"103",label:"研發部"},{id:"104",label:"市場部"},{id:"105",label:"採購部"},{id:"106",label:"財務部"}]}]),We=r=>{$.value=F.value.find(e=>e.id===r)};return(r,e)=>{const c=i("el-option"),R=i("el-select"),ne=i("el-col"),re=i("el-row"),g=i("el-form-item"),Y=i("el-date-picker"),p=i("el-button"),x=i("el-input"),j=i("el-form"),O=i("el-dropdown-item"),Ae=i("el-dropdown-menu"),Te=i("el-dropdown"),m=i("el-table-column"),de=i("el-table"),v=i("el-tag"),y=i("el-tab-pane"),G=i("el-tabs"),Pe=i("el-tooltip"),H=i("el-dialog"),ce=i("el-tree"),Ue=i("el-radio"),Ne=i("el-radio-group");return b(),k("main",je,[l(re,{class:"p-3 bg-white rounded-md shadow flex justify-end md:justify-start"},{default:t(()=>[l(ne,{span:5},{default:t(()=>[l(R,{modelValue:n(V),"onUpdate:modelValue":e[0]||(e[0]=a=>u(V)?V.value=a:null),placeholder:"請選擇"},{default:t(()=>[l(c,{label:"發起流程",value:"add"}),l(c,{label:"添加並管理本人流程",value:"selfManage"}),l(c,{label:"添加並管理流程",value:"manage"}),l(c,{label:"查看全部流程",value:"view"}),e[30]||(e[30]=o("hr",null,null,-1)),l(c,{label:"全部有限權的資料",value:"restricted"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),n(V)==="add"?(b(),k("div",Ee,[o("div",qe,[e[42]||(e[42]=o("h2",{class:"text-lg font-bold text-primary border-b-4 border-blue-100"}," 調撥基本資料 ",-1)),e[43]||(e[43]=o("p",{class:"text-sm text-gray-500"}," 庫存調撥完成出入庫後，會自動記錄其他的出 / 入庫單：調撥出 / 入庫 單據！ ",-1)),l(j,{"label-position":"top",class:"grid grid-cols-1 xl:grid-cols-3 gap-x-16 py-7 px-2 font-bold"},{default:t(()=>[l(g,{label:"調撥類型",required:!0},{default:t(()=>[l(R,{modelValue:n(Z),"onUpdate:modelValue":e[1]||(e[1]=a=>u(Z)?Z.value=a:null),placeholder:"請選擇調撥類型",class:"w-full",clearable:"",filterable:"",remote:"","reserve-keyword":"","remote-show-suffix":"","no-match-text":"沒有符合的數據","no-data-text":"沒有可選擇的數據"},{default:t(()=>[l(c,{label:"庫存預警",value:"1"}),l(c,{label:"清倉調撥",value:"2"})]),_:1},8,["modelValue"])]),_:1}),l(g,{label:"調撥申請日期"},{default:t(()=>[l(Y,{modelValue:n(E),"onUpdate:modelValue":e[2]||(e[2]=a=>u(E)?E.value=a:null),type:"date",style:{width:"100%"},format:"YYYY-MM-DD","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1}),l(g,{label:"期望到貨日期"},{default:t(()=>[l(Y,{modelValue:n(ee),"onUpdate:modelValue":e[3]||(e[3]=a=>u(ee)?ee.value=a:null),type:"date",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),l(g,{label:"申請人"},{default:t(()=>[l(p,{class:"w-full",onClick:e[4]||(e[4]=a=>D.value=!0)},{default:t(()=>[...e[31]||(e[31]=[o("i",{class:"ri-add-line text-lg"},null,-1),d("選擇成員",-1)])]),_:1})]),_:1}),l(g,{label:"申請人歸屬部門"},{default:t(()=>[l(p,{class:"w-full",onClick:e[5]||(e[5]=a=>W.value=!0)},{default:t(()=>[...e[32]||(e[32]=[o("i",{class:"ri-add-line text-lg"},null,-1),d("選擇部門",-1)])]),_:1})]),_:1}),l(g,{label:"調撥單編號",class:"w-3/4"},{default:t(()=>[l(x,{modelValue:n(X),"onUpdate:modelValue":e[6]||(e[6]=a=>u(X)?X.value=a:null),disabled:"",placeholder:"自動生成無需填寫"},null,8,["modelValue"])]),_:1})]),_:1}),e[44]||(e[44]=o("h2",{class:"text-lg font-bold text-primary border-b-4 border-blue-100"}," 調出倉庫資料 ",-1)),l(j,{"label-position":"top",class:"grid grid-cols-1 xl:grid-cols-3 gap-x-16 py-7 px-2 font-bold"},{default:t(()=>[l(g,{label:"調出倉庫",required:!0},{default:t(()=>[l(R,{modelValue:n(le),"onUpdate:modelValue":e[7]||(e[7]=a=>u(le)?le.value=a:null),placeholder:"請選擇調出倉庫",class:"w-full",clearable:"",filterable:"",remote:"","reserve-keyword":"","remote-show-suffix":"","no-match-text":"沒有符合的數據","no-data-text":"沒有可選擇的數據"},{default:t(()=>[l(c,{label:"A倉庫",value:"1"}),l(c,{label:"B倉庫",value:"2"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e[45]||(e[45]=o("h2",{class:"text-lg font-bold text-primary border-b-4 border-blue-100"}," 調入倉庫資料 ",-1)),l(j,{"label-position":"top",class:"grid grid-cols-1 xl:grid-cols-3 gap-x-16 py-7 px-2 font-bold"},{default:t(()=>[l(g,{label:"調入倉庫",required:!0},{default:t(()=>[l(R,{modelValue:n(te),"onUpdate:modelValue":e[8]||(e[8]=a=>u(te)?te.value=a:null),placeholder:"請選擇調入倉庫",class:"w-full",clearable:"",filterable:"",remote:"","reserve-keyword":"","remote-show-suffix":"","no-match-text":"沒有符合的數據","no-data-text":"沒有可選擇的數據"},{default:t(()=>[l(c,{label:"A倉庫",value:"1"}),l(c,{label:"B倉庫",value:"2"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e[46]||(e[46]=o("h2",{class:"text-lg font-bold text-primary border-b-4 border-blue-100"}," 調撥產品資料 ",-1)),l(j,{"label-position":"top",class:"grid grid-cols-1 xl:grid-cols-3 gap-x-16 py-7 px-2 font-bold"},{default:t(()=>[l(g,{label:"調撥產品明細",class:"xl:col-span-3",required:!0},{default:t(()=>[o("div",Fe,[l(de,{data:n(L),"header-cell-style":{backgroundColor:"#f5f7f8",color:"#606266",fontWeight:"bold"},"cell-style":{color:"#9ca3af"},"row-class-name":()=>"group",border:"","empty-text":"暫無資料"},{default:t(()=>[l(m,{label:"",width:"80",fixed:""},{default:t(a=>[o("div",ze,[o("span",Oe,f(a.$index+1),1),o("div",Ge,[o("div",He,[l(p,{class:"col-span-1 col-start-2",type:"danger",link:"",onClick:w=>ye(a.$index)},{default:t(()=>[...e[33]||(e[33]=[o("i",{class:"ri-delete-bin-line text-lg"},null,-1)])]),_:1},8,["onClick"]),o("div",Ke,[l(Te,{trigger:"click",placement:"bottom-start"},{dropdown:t(()=>[l(Ae,null,{default:t(()=>[l(O,null,{default:t(()=>[...e[35]||(e[35]=[d("複製到下一行",-1)])]),_:1}),l(O,null,{default:t(()=>[...e[36]||(e[36]=[d("複製到最後一行",-1)])]),_:1}),l(O,null,{default:t(()=>[...e[37]||(e[37]=[d("向上插入行",-1)])]),_:1}),l(O,null,{default:t(()=>[...e[38]||(e[38]=[d("向下插入行",-1)])]),_:1})]),_:1})]),default:t(()=>[l(p,{link:"",type:"primary"},{default:t(()=>[...e[34]||(e[34]=[o("i",{class:"ri-more-2-fill"},null,-1)])]),_:1})]),_:1})])])])])]),_:1}),l(m,{label:"選擇產品",width:"100",fixed:""},{default:t(()=>[l(p,{onClick:e[9]||(e[9]=a=>C.value=!0)},{default:t(()=>[...e[39]||(e[39]=[o("i",{class:"ri-database-2-line"},null,-1)])]),_:1})]),_:1}),l(m,{prop:"pdName",label:"產品名稱",width:"100",fixed:""}),l(m,{prop:"pdCode",label:"產品編碼",width:"100"}),l(m,{prop:"brand",label:"品牌",width:"100"}),l(m,{prop:"model",label:"規格型號",width:"100"}),l(m,{prop:"unit",label:"單位",width:"100"}),l(m,{prop:"outboundAvailableStock",label:"調出倉庫可用庫存",width:"150"}),l(m,{prop:"inboundAvailableStock",label:"調入倉庫可用庫存",width:"150"}),l(m,{label:"* 本次調撥數量",width:"150"},{default:t(a=>[l(x,{modelValue:a.row.transferQty,"onUpdate:modelValue":w=>a.row.transferQty=w,placeholder:"輸入數量",type:"number",class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(m,{label:"銷售單價(含稅)/元",width:"150"},{default:t(a=>[l(x,{modelValue:a.row.sellingPrice,"onUpdate:modelValue":w=>a.row.sellingPrice=w,placeholder:"輸入數量",type:"number",class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(m,{label:"成本單價/元",width:"150"},{default:t(a=>[l(x,{modelValue:a.row.costPrice,"onUpdate:modelValue":w=>a.row.costPrice=w,placeholder:"輸入數量",type:"number",class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(m,{prop:"pdTotalAmount",label:"產品售價合計(含稅)/元",width:"150"}),l(m,{prop:"totalCost",label:"產品成本合計/元",width:"150"})]),_:1},8,["data"]),o("div",Je,[l(p,{type:"primary",text:"",onClick:ve},{default:t(()=>[...e[40]||(e[40]=[o("i",{class:"ri-add-line text-lg pr-1"},null,-1),d("新增",-1)])]),_:1}),l(p,{type:"primary",text:"",onClick:e[10]||(e[10]=a=>q.value=!0)},{default:t(()=>[...e[41]||(e[41]=[o("i",{class:"ri-file-edit-line text-lg pr-1"},null,-1),d("貼上新增",-1)])]),_:1})])])]),_:1})]),_:1}),l(j,{"label-position":"top",class:"grid grid-cols-1 xl:grid-cols-3 gap-x-16 pb-6 px-2 font-bold"},{default:t(()=>[l(g,{label:"調撥產品總數"},{default:t(()=>[l(x,{disabled:"",placeholder:"暫無內容"})]),_:1}),l(g,{label:"調撥產品售價總額(含稅)/元"},{default:t(()=>[l(x,{disabled:"",placeholder:"暫無內容"})]),_:1}),l(g,{label:"調撥產品成本總額/元"},{default:t(()=>[l(x,{disabled:"",placeholder:"暫無內容"})]),_:1})]),_:1})]),o("div",Xe,[l(p,{type:"primary"},{default:t(()=>[...e[47]||(e[47]=[d("送出",-1)])]),_:1})])])):n(V)==="selfManage"?(b(),k("div",Ze,[l(G,{modelValue:n(A),"onUpdate:modelValue":e[11]||(e[11]=a=>u(A)?A.value=a:null)},{default:t(()=>[l(y,{name:"1"},{label:t(()=>[...e[48]||(e[48]=[o("span",{class:"custom-tabs-label"},[o("i",{class:"ri-table-line mr-1"}),o("span",null,"全部調撥")],-1)])]),default:t(()=>[l(_,{tableData:n(P),columns:n(h)},{approverStatus:t(({row:a})=>[l(v,{type:U(a.approverStatus),effect:"dark"},{default:t(()=>[d(f(a.approverStatus),1)]),_:2},1032,["type"])]),processStatus:t(({row:a})=>[l(v,{type:I(a.processStatus)},{default:t(()=>[d(f(a.processStatus),1)]),_:2},1032,["type"])]),_:1},8,["tableData","columns"])]),_:1}),l(y,{name:"2"},{label:t(()=>[...e[49]||(e[49]=[o("span",{class:"custom-tabs-label"},[o("i",{class:"ri-table-line mr-1"}),o("span",null,"待審批調撥")],-1)])]),default:t(()=>[l(_,{tableData:[],columns:n(h)},null,8,["columns"])]),_:1}),l(y,{name:"3"},{label:t(()=>[...e[50]||(e[50]=[o("span",{class:"custom-tabs-label"},[o("i",{class:"ri-table-line mr-1"}),o("span",null,"出庫執行")],-1)])]),default:t(()=>[l(_,{tableData:[],columns:n(h)},null,8,["columns"])]),_:1}),l(y,{name:"4"},{label:t(()=>[...e[51]||(e[51]=[o("span",{class:"custom-tabs-label"},[o("i",{class:"ri-table-line mr-1"}),o("span",null,"入庫執行")],-1)])]),default:t(()=>[l(_,{tableData:[],columns:n(h)},null,8,["columns"])]),_:1}),l(y,{name:"5"},{label:t(()=>[...e[52]||(e[52]=[o("span",{class:"custom-tabs-label"},[o("i",{class:"ri-table-line mr-1"}),o("span",null,"已完成調撥")],-1)])]),default:t(()=>[l(_,{tableData:n(P),columns:n(h)},{approverStatus:t(({row:a})=>[l(v,{type:U(a.approverStatus),effect:"dark"},{default:t(()=>[d(f(a.approverStatus),1)]),_:2},1032,["type"])]),processStatus:t(({row:a})=>[l(v,{type:I(a.processStatus)},{default:t(()=>[d(f(a.processStatus),1)]),_:2},1032,["type"])]),_:1},8,["tableData","columns"])]),_:1})]),_:1},8,["modelValue"])])):n(V)==="manage"?(b(),k("div",el,[l(G,{modelValue:n(A),"onUpdate:modelValue":e[12]||(e[12]=a=>u(A)?A.value=a:null)},{default:t(()=>[l(y,{name:"1"},{label:t(()=>[...e[53]||(e[53]=[o("span",{class:"custom-tabs-label"},[o("i",{class:"ri-table-line mr-1"}),o("span",null,"全部調撥")],-1)])]),default:t(()=>[l(_,{tableData:n(P),columns:n(h)},{approverStatus:t(({row:a})=>[l(v,{type:U(a.approverStatus),effect:"dark"},{default:t(()=>[d(f(a.approverStatus),1)]),_:2},1032,["type"])]),processStatus:t(({row:a})=>[l(v,{type:I(a.processStatus)},{default:t(()=>[d(f(a.processStatus),1)]),_:2},1032,["type"])]),_:1},8,["tableData","columns"])]),_:1}),l(y,{name:"2"},{label:t(()=>[...e[54]||(e[54]=[o("span",{class:"custom-tabs-label"},[o("i",{class:"ri-table-line mr-1"}),o("span",null,"待審批調撥")],-1)])]),default:t(()=>[l(_,{tableData:[],columns:n(h)},null,8,["columns"])]),_:1}),l(y,{name:"3"},{label:t(()=>[...e[55]||(e[55]=[o("span",{class:"custom-tabs-label"},[o("i",{class:"ri-table-line mr-1"}),o("span",null,"出庫執行")],-1)])]),default:t(()=>[l(_,{tableData:[],columns:n(h)},null,8,["columns"])]),_:1}),l(y,{name:"4"},{label:t(()=>[...e[56]||(e[56]=[o("span",{class:"custom-tabs-label"},[o("i",{class:"ri-table-line mr-1"}),o("span",null,"入庫執行")],-1)])]),default:t(()=>[l(_,{tableData:[],columns:n(h)},null,8,["columns"])]),_:1}),l(y,{name:"5"},{label:t(()=>[...e[57]||(e[57]=[o("span",{class:"custom-tabs-label"},[o("i",{class:"ri-table-line mr-1"}),o("span",null,"已完成調撥")],-1)])]),default:t(()=>[l(_,{tableData:n(P),columns:n(h)},{approverStatus:t(({row:a})=>[l(v,{type:U(a.approverStatus),effect:"dark"},{default:t(()=>[d(f(a.approverStatus),1)]),_:2},1032,["type"])]),processStatus:t(({row:a})=>[l(v,{type:I(a.processStatus)},{default:t(()=>[d(f(a.processStatus),1)]),_:2},1032,["type"])]),_:1},8,["tableData","columns"])]),_:1})]),_:1},8,["modelValue"])])):n(V)==="view"?(b(),k("div",ll,[l(_,{edit:!1,record:!0,tableData:n(P),columns:n(h)},{approverStatus:t(({row:a})=>[l(v,{type:U(a.approverStatus),effect:"dark"},{default:t(()=>[d(f(a.approverStatus),1)]),_:2},1032,["type"])]),processStatus:t(({row:a})=>[l(v,{type:I(a.processStatus)},{default:t(()=>[d(f(a.processStatus),1)]),_:2},1032,["type"])]),_:1},8,["tableData","columns"])])):n(V)==="restricted"?(b(),k("div",tl,[l(_,{tableData:n(P),columns:n(h)},{outboundLabel:t(({row:a})=>[(b(!0),k(K,null,J(a.outboundLabel,(w,Be)=>(b(),N(v,{key:Be,type:Ve(w),effect:"dark",class:"mr-2"},{default:t(()=>[d(f(w),1)]),_:2},1032,["type"]))),128))]),_:1},8,["tableData","columns"])])):se("",!0),l(H,{modelValue:n(C),"onUpdate:modelValue":e[15]||(e[15]=a=>u(C)?C.value=a:null)},{header:t(()=>[...e[58]||(e[58]=[o("div",{class:"flex flex-col items-start mb-4"},[o("span",{class:"text-lg font-bold text-gray-500 mb-2"},"選擇資料"),o("hr",{class:"w-full border-t border-gray-300"})],-1)])]),footer:t(()=>[o("div",nl,[l(p,{onClick:e[14]||(e[14]=a=>C.value=!1)},{default:t(()=>[...e[62]||(e[62]=[d("取消",-1)])]),_:1}),l(p,{type:"primary",onClick:_e},{default:t(()=>[...e[63]||(e[63]=[d(" 確定 ",-1)])]),_:1})])]),default:t(()=>[o("div",al,[l(p,{type:"primary"},{default:t(()=>[...e[59]||(e[59]=[o("i",{class:"ri-add-line"},null,-1),d("新增",-1)])]),_:1}),o("div",ol,[l(x,{modelValue:n(B),"onUpdate:modelValue":e[13]||(e[13]=a=>u(B)?B.value=a:null),placeholder:"輸入關鍵字",clearable:""},{prefix:t(()=>[...e[60]||(e[60]=[o("i",{class:"ri-search-line"},null,-1)])]),_:1},8,["modelValue"]),l(Pe,{content:"篩選條件",placement:"bottom","hide-after":10},{default:t(()=>[l(p,{text:""},{default:t(()=>[...e[61]||(e[61]=[o("i",{class:"ri-filter-line"},null,-1)])]),_:1})]),_:1})])]),l(de,{data:n(ke),"header-cell-style":{backgroundColor:"#f5f7f8",color:"#606266",fontWeight:"bold"},class:"mb-4",border:"",onSelectionChange:we},{default:t(()=>[l(m,{type:"selection",width:"55",align:"center",fixed:""}),(b(!0),k(K,null,J(n(he),a=>(b(),N(m,{key:a.prop,prop:a.prop,label:a.label,width:a.minWidth||null,align:a.align,"header-align":a.headerAlign},Ye({_:2},[a.prop==="status"?{name:"default",fn:t(({row:w})=>[l(v,{type:U(w.status)},{default:t(()=>[d(f(w.status),1)]),_:2},1032,["type"])]),key:"0"}:void 0]),1032,["prop","label","width","align","header-align"]))),128))]),_:1},8,["data"])]),_:1},8,["modelValue"]),l(H,{modelValue:n(D),"onUpdate:modelValue":e[22]||(e[22]=a=>u(D)?D.value=a:null),width:"800"},{header:t(()=>[...e[64]||(e[64]=[o("div",{class:"flex flex-col items-start mb-4"},[o("span",{class:"text-lg font-bold text-gray-500 mb-2"},"成員列表"),o("hr",{class:"w-full border-t border-gray-300"})],-1)])]),footer:t(()=>[o("div",ml,[l(p,{onClick:e[20]||(e[20]=a=>D.value=!1)},{default:t(()=>[...e[68]||(e[68]=[d("取消",-1)])]),_:1}),l(p,{type:"primary",onClick:e[21]||(e[21]=a=>D.value=!1)},{default:t(()=>[...e[69]||(e[69]=[d(" 確定 ",-1)])]),_:1})])]),default:t(()=>[o("div",rl,[n($)?(b(),N(v,{key:0,closable:"",type:"primary",onClose:e[16]||(e[16]=()=>{$.value=null,Q.value=null})},{default:t(()=>[d(f(n($).name),1)]),_:1})):se("",!0)]),l(x,{modelValue:n(S),"onUpdate:modelValue":e[17]||(e[17]=a=>u(S)?S.value=a:null),placeholder:"輸入關鍵字",clearable:""},{prefix:t(()=>[...e[65]||(e[65]=[o("i",{class:"ri-search-line"},null,-1)])]),_:1},8,["modelValue"]),l(G,{modelValue:n(T),"onUpdate:modelValue":e[19]||(e[19]=a=>u(T)?T.value=a:null),class:"demo-tabs mx-2",onTabClick:be},{default:t(()=>[l(y,{label:"成員",name:"member"},{default:t(()=>[o("div",dl,[o("div",sl,[l(ce,{ref_key:"treeRef",ref:oe,style:{"max-width":"600px"},class:"filter-tree",data:n(fe),"default-expand-all":"","highlight-current":!0,"filter-node-method":me,onNodeClick:Se},null,8,["data"])]),o("div",il,[n(F).length>0?(b(),k("div",ul,[l(Ne,{class:"flex flex-col",modelValue:n(Q),"onUpdate:modelValue":e[18]||(e[18]=a=>u(Q)?Q.value=a:null),onChange:We},{default:t(()=>[o("div",pl,[(b(!0),k(K,null,J(n(F),a=>(b(),N(Ue,{key:a.id,value:a.id},{default:t(()=>[d(f(a.name),1)]),_:2},1032,["value"]))),128))])]),_:1},8,["modelValue"])])):(b(),k("div",bl,[...e[66]||(e[66]=[o("p",null,"沒有可選成員",-1)])]))])])]),_:1}),l(y,{label:"當前使用者",name:"current"},{default:t(()=>[...e[67]||(e[67]=[o("div",{class:"flex h-72 items-center justify-center"},"沒有可選成員",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),l(H,{modelValue:n(W),"onUpdate:modelValue":e[28]||(e[28]=a=>u(W)?W.value=a:null),width:"800"},{header:t(()=>[...e[70]||(e[70]=[o("div",{class:"flex flex-col items-start mb-4"},[o("span",{class:"text-lg font-bold text-gray-500 mb-2"},"部門清單"),o("hr",{class:"w-full border-t border-gray-300"})],-1)])]),footer:t(()=>[o("div",gl,[l(p,{onClick:e[26]||(e[26]=a=>W.value=!1)},{default:t(()=>[...e[73]||(e[73]=[d("取消",-1)])]),_:1}),l(p,{type:"primary",onClick:e[27]||(e[27]=a=>W.value=!1)},{default:t(()=>[...e[74]||(e[74]=[d(" 確定 ",-1)])]),_:1})])]),default:t(()=>[o("div",fl,[n(z)?(b(),N(v,{key:0,closable:"",type:"primary",onClose:e[23]||(e[23]=a=>z.value=null)},{default:t(()=>[d(f(n(z)),1)]),_:1})):se("",!0)]),l(x,{modelValue:n(S),"onUpdate:modelValue":e[24]||(e[24]=a=>u(S)?S.value=a:null),placeholder:"輸入關鍵字",clearable:""},{prefix:t(()=>[...e[71]||(e[71]=[o("i",{class:"ri-search-line"},null,-1)])]),_:1},8,["modelValue"]),l(G,{modelValue:n(T),"onUpdate:modelValue":e[25]||(e[25]=a=>u(T)?T.value=a:null),class:"demo-tabs mx-2",onTabClick:be},{default:t(()=>[l(y,{label:"成員",name:"member"},{default:t(()=>[o("div",cl,[l(ce,{ref_key:"treeRef",ref:oe,class:"filter-tree",data:n(fe),"default-expand-all":"","highlight-current":!0,"filter-node-method":me,onNodeClick:Ce},null,8,["data"])])]),_:1}),l(y,{label:"當前使用者所處部門",name:"current"},{default:t(()=>[...e[72]||(e[72]=[o("div",{class:"flex h-72 items-center justify-center"},"沒有可選部門",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),l(H,{modelValue:n(q),"onUpdate:modelValue":e[29]||(e[29]=a=>u(q)?q.value=a:null),width:"45%"},{header:t(()=>[...e[75]||(e[75]=[o("div",{class:"flex flex-col items-start mb-4"},[o("span",{class:"text-lg font-bold text-gray-500 mb-2"},"貼上新增"),o("hr",{class:"w-full border-t border-gray-300"})],-1)])]),default:t(()=>[e[76]||(e[76]=o("ul",{class:"list-disc pl-5 space-y-1 mb-4"},[o("li",null," 使用快捷鍵 ctrl + v 可將Excel內容貼上到表格中，也可直接編輯表格內容，使用 ctrl + z 撤銷貼上操作 "),o("li",null,[d(" 批次貼上時，"),o("strong",null,"將跳過不可編輯欄位"),d("，貼上資料將順延至下一列，請注意對應欄位順序 ")]),o("li",null,"當前子表單總行數不可超過200行")],-1)),l(de,{data:n(M),"header-cell-style":{backgroundColor:"#f5f7f8",color:"#606266",fontWeight:"bold"},class:"mb-4",border:"",onPaste:ge,"empty-text":"Ctrl+v"},{default:t(()=>[(b(!0),k(K,null,J(n(ue),a=>(b(),N(m,{key:a.prop,prop:a.prop,label:a.label,width:a.minWidth||null,align:a.align,"header-align":a.headerAlign},null,8,["prop","label","width","align","header-align"]))),128))]),_:1},8,["data"])]),_:1},8,["modelValue"])])}}},wl=Me(vl,[["__scopeId","data-v-c8e90c07"]]);export{wl as default};
