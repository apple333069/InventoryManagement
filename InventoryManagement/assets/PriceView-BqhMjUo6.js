import{M as A}from"./ManageTable-CLoVzGHA.js";import{r as s,y as H,b as f,d as u,k as e,i as N,w as t,j as p,u as d,e as n,l as h,m as _,h as U,F as q,q as Q,z as X}from"./index-DuMLqF1m.js";const z={class:"flex flex-col space-y-4"},O={key:0},$={class:"p-8 bg-white rounded-t-md shadow max-h-[82vh] overflow-y-auto"},G=["src"],J={class:"p-4 bg-white rounded-b-md shadow text-center mt-auto border-t"},K={key:1,class:"p-2 bg-white rounded-md shadow min-h-[88vh] overflow-auto"},Y={key:2,class:"p-2 bg-white rounded-md shadow min-h-[88vh] overflow-auto"},Z={key:3,class:"p-2 bg-white rounded-md shadow min-h-[88vh] overflow-auto"},ee={class:"flex justify-end mb-2"},le=["src"],oe={__name:"PriceView",setup(te){const m=s("add"),g=s(!1),V=s(""),c=s(""),w=s(null),o=s({name:"",pdCode:"",pdAttribute:"",pdType:"",brand:"",model:"",unit:"",pdImage:""}),D=s([{prop:"name",label:"產品名稱",minWidth:150},{prop:"pdCode",label:"產品編碼",minWidth:100},{prop:"pdAttribute",label:"產品屬性",minWidth:100},{prop:"pdType",label:"產品類型",minWidth:150},{prop:"brand",label:"品牌"},{prop:"model",label:"規格型號",minWidth:150},{prop:"unit",label:"單位"},{prop:"pdImage",label:"產品圖片",minWidth:100}]),I=s([{name:"MTQ8200-HS2F",pdCode:"CP0014",pdAttribute:"成品",pdType:"交換機",brand:"品牌A",model:"WH-1000XM4",unit:"個",pdImage:"https://via.placeholder.com/150"},{name:"ST1L05",pdCode:"CP0006",pdAttribute:"零件",pdType:"網卡-CPU晶片",brand:"品牌B",model:"STV-2024",unit:"台",pdImage:"https://via.placeholder.com/150"}]),y=s([{prop:"pdCode",label:"產品編碼",minWidth:100},{prop:"pdAttribute",label:"產品屬性",minWidth:100},{prop:"pdType",label:"產品類型",minWidth:150},{prop:"name",label:"產品名稱",minWidth:150},{prop:"brand",label:"品牌"},{prop:"model",label:"規格型號",minWidth:150},{prop:"unit",label:"單位"},{prop:"pdImage",label:"產品圖片",minWidth:100},{prop:"costPrice",label:"成本單價/元",minWidth:130,align:"right",headerAlign:"left"},{prop:"standardPrice",label:"標準售價(含稅)/元",minWidth:150,align:"right",headerAlign:"left"},{prop:"priceLevel",label:"價格等級",minWidth:100},{prop:"sellingPrice",label:"銷售單價(含稅)/元",minWidth:150,align:"right",headerAlign:"left"},{prop:"vatRate",label:"增值稅稅率%",minWidth:100,align:"right",headerAlign:"left"},{prop:"sellingPriceExTax",label:"銷售單價(不含稅)/元",minWidth:160,align:"right",headerAlign:"left"},{prop:"taxAmount",label:"稅額/元",minWidth:130,align:"right",headerAlign:"left"},{prop:"profitMargin",label:"售價毛利/元",minWidth:130,align:"right",headerAlign:"left"},{prop:"submitter",label:"送出人"},{prop:"submitTime",label:"送出時間",minWidth:150},{prop:"updateTime",label:"更新時間",minWidth:150}]),T=s([{pdCode:"CP0014",pdAttribute:"成品",pdType:"交換機",name:"MTQ8200-HS2F",brand:"品牌A",model:"WH-1000XM4",unit:"個",pdImage:"https://via.placeholder.com/150",costPrice:320,standardPrice:680,priceLevel:"標準售價",sellingPrice:680,vatRate:"13%",sellingPriceExTax:591.6,taxAmount:88.4,profitMargin:360,submitter:"張三",submitTime:"2024-12-15 14:30",updateTime:"2024-12-16 10:15"},{pdCode:"CP0006",pdAttribute:"零件",pdType:"網卡-CPU晶片",name:"ST1L05",brand:"品牌B",model:"STV-2024",unit:"台",pdImage:"https://via.placeholder.com/150",costPrice:360,standardPrice:680,priceLevel:"一級售價",sellingPrice:640,vatRate:"13%",sellingPriceExTax:561.15,taxAmount:83.85,profitMargin:285,submitter:"李四",submitTime:"2024-12-14 16:00",updateTime:"2024-12-16 09:45"}]),M=v=>{o.value={...v},g.value=!1},L=H(()=>I.value.filter(v=>!c.value||v.name.toLowerCase().includes(c.value.toLowerCase())));return(v,l)=>{const b=p("el-option"),P=p("el-select"),S=p("el-col"),B=p("el-row"),C=p("el-button"),i=p("el-form-item"),r=p("el-input"),x=p("el-form"),R=p("el-tooltip"),j=p("el-radio"),k=p("el-table-column"),E=p("el-table"),F=p("el-dialog");return u(),f("main",z,[e(B,{class:"p-3 bg-white rounded-md shadow flex justify-end md:justify-start"},{default:t(()=>[e(S,{span:5},{default:t(()=>[e(P,{modelValue:d(m),"onUpdate:modelValue":l[0]||(l[0]=a=>h(m)?m.value=a:null),placeholder:"請選擇"},{default:t(()=>[e(b,{label:"僅新增資料",value:"add"}),e(b,{label:"添加並管理數據",value:"manage"}),e(b,{label:"查看全部資料",value:"view"}),l[13]||(l[13]=n("hr",null,null,-1)),e(b,{label:"全部有限權的資料",value:"restricted"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),d(m)==="add"?(u(),f("div",O,[n("div",$,[l[17]||(l[17]=n("h2",{class:"text-lg font-bold text-primary border-b-4 border-blue-100"}," 產品資料 ",-1)),e(x,{"label-position":"top",class:"grid grid-cols-1 xl:grid-cols-3 gap-x-16 py-7 px-2 font-bold"},{default:t(()=>[e(i,{label:"選擇產品",required:!0},{default:t(()=>[e(C,{class:"w-3/4",onClick:l[1]||(l[1]=a=>g.value=!0)},{default:t(()=>[...l[14]||(l[14]=[n("i",{class:"ri-database-2-line mr-1"},null,-1),_("選擇資料",-1)])]),_:1})]),_:1}),e(i,{label:"產品編碼"},{default:t(()=>[e(r,{modelValue:d(o).pdCode,"onUpdate:modelValue":l[2]||(l[2]=a=>d(o).pdCode=a),disabled:"",placeholder:"暫無內容"},null,8,["modelValue"])]),_:1}),e(i,{label:"產品屬性"},{default:t(()=>[e(r,{modelValue:d(o).pdAttribute,"onUpdate:modelValue":l[3]||(l[3]=a=>d(o).pdAttribute=a),disabled:"",placeholder:"暫無內容"},null,8,["modelValue"])]),_:1}),e(i,{label:"產品類型"},{default:t(()=>[e(r,{modelValue:d(o).pdType,"onUpdate:modelValue":l[4]||(l[4]=a=>d(o).pdType=a),disabled:"",placeholder:"暫無內容"},null,8,["modelValue"])]),_:1}),e(i,{label:"產品名稱"},{default:t(()=>[e(r,{modelValue:d(o).name,"onUpdate:modelValue":l[5]||(l[5]=a=>d(o).name=a),disabled:"",placeholder:"暫無內容"},null,8,["modelValue"])]),_:1}),e(i,{label:"品牌"},{default:t(()=>[e(r,{modelValue:d(o).brand,"onUpdate:modelValue":l[6]||(l[6]=a=>d(o).brand=a),disabled:"",placeholder:"暫無內容"},null,8,["modelValue"])]),_:1}),e(i,{label:"規格型號"},{default:t(()=>[e(r,{modelValue:d(o).model,"onUpdate:modelValue":l[7]||(l[7]=a=>d(o).model=a),disabled:"",placeholder:"暫無內容"},null,8,["modelValue"])]),_:1}),e(i,{label:"單位"},{default:t(()=>[e(r,{modelValue:d(o).unit,"onUpdate:modelValue":l[8]||(l[8]=a=>d(o).unit=a),disabled:"",placeholder:"暫無內容"},null,8,["modelValue"])]),_:1}),e(i,{label:"產品圖片"},{default:t(()=>[d(o).pdImage?(u(),f("img",{key:0,src:d(o).pdImage,alt:"產品圖片",class:"w-28 object-cover border rounded"},null,8,G)):(u(),U(r,{key:1,disabled:"",placeholder:"暫無內容"}))]),_:1})]),_:1}),l[18]||(l[18]=n("h2",{class:"text-lg font-bold text-primary border-b-4 border-blue-100"}," 產品成本 ",-1)),e(x,{"label-position":"top",class:"grid grid-cols-1 xl:grid-cols-3 gap-x-16 py-7 px-2 font-bold"},{default:t(()=>[e(i,{label:"成本單價/元"},{default:t(()=>[e(r)]),_:1}),e(i,{label:"標準售價(含稅)/元"},{default:t(()=>[e(r)]),_:1})]),_:1}),l[19]||(l[19]=n("h2",{class:"text-lg font-bold text-primary border-b-4 border-blue-100"}," 產品銷售價格 ",-1)),e(x,{"label-position":"top",class:"grid grid-cols-1 xl:grid-cols-3 gap-x-16 py-7 px-2 font-bold"},{default:t(()=>[e(i,{label:"價格等級"},{default:t(()=>[e(P,{modelValue:d(V),"onUpdate:modelValue":l[9]||(l[9]=a=>h(V)?V.value=a:null),placeholder:"請選擇",class:"w-full",clearable:"",filterable:"",remote:"","reserve-keyword":"","remote-show-suffix":"","no-match-text":"沒有符合的數據","no-data-text":"沒有可選擇的數據"},{default:t(()=>[e(b,{label:"標準售價",value:"1"}),e(b,{label:"一級售價",value:"2"}),e(b,{label:"二級售價",value:"3"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"銷售售價(含稅)/元"},{default:t(()=>[e(r)]),_:1}),e(i,{label:"增值稅稅率 %"},{default:t(()=>[e(r,null,{append:t(()=>[...l[15]||(l[15]=[_("%",-1)])]),_:1})]),_:1})]),_:1}),e(x,{"label-position":"top",class:"grid grid-cols-1 xl:grid-cols-3 gap-x-16 pb-6 px-2 font-bold"},{default:t(()=>[e(i,null,{label:t(()=>[...l[16]||(l[16]=[_(" 銷售單價(不含稅)/元 ",-1),n("div",{class:"text-xs text-gray-400 mt-2"}," 銷售單價(含稅)/(1+增值稅稅率) ",-1)])]),default:t(()=>[e(r,{disabled:"",placeholder:"0.00"})]),_:1}),e(i,{label:"稅額/元"},{default:t(()=>[e(r,{disabled:"",placeholder:"0.00"})]),_:1}),e(i,{label:"售價毛利/元"},{default:t(()=>[e(r,{disabled:"",placeholder:"0.00"})]),_:1})]),_:1})]),n("div",J,[e(C,{type:"primary"},{default:t(()=>[...l[20]||(l[20]=[_("送出",-1)])]),_:1})])])):d(m)==="manage"?(u(),f("div",K,[e(A,{tableData:d(T),columns:d(y)},null,8,["tableData","columns"])])):d(m)==="view"?(u(),f("div",Y,[e(A,{edit:!1,tableData:d(T),columns:d(y)},null,8,["tableData","columns"])])):d(m)==="restricted"?(u(),f("div",Z,[e(A,{tableData:d(T),columns:d(y)},null,8,["tableData","columns"])])):N("",!0),e(F,{modelValue:d(g),"onUpdate:modelValue":l[12]||(l[12]=a=>h(g)?g.value=a:null),width:"65%"},{header:t(()=>[...l[21]||(l[21]=[n("div",{class:"flex flex-col items-start mb-4"},[n("span",{class:"text-lg font-bold text-gray-500 mb-2"},"選擇資料"),n("hr",{class:"w-full border-t border-gray-300"})],-1)])]),default:t(()=>[n("div",ee,[n("div",null,[e(r,{modelValue:d(c),"onUpdate:modelValue":l[10]||(l[10]=a=>h(c)?c.value=a:null),placeholder:"輸入關鍵字",clearable:""},{prefix:t(()=>[...l[22]||(l[22]=[n("i",{class:"ri-search-line"},null,-1)])]),_:1},8,["modelValue"])]),n("div",null,[e(R,{content:"篩選條件",placement:"bottom","hide-after":10},{default:t(()=>[e(C,{text:""},{default:t(()=>[...l[23]||(l[23]=[n("i",{class:"ri-filter-line"},null,-1)])]),_:1})]),_:1})])]),e(E,{data:d(L),"header-cell-style":{backgroundColor:"#f5f7f8",color:"#606266",fontWeight:"bold"},class:"mb-4",border:"",onRowClick:M},{default:t(()=>[e(k,{align:"center",width:"55",fixed:""},{default:t(a=>[e(j,{label:a.row.pdCode,modelValue:d(w),"onUpdate:modelValue":l[11]||(l[11]=W=>h(w)?w.value=W:null)},{default:t(()=>[...l[24]||(l[24]=[_(" ",-1)])]),_:1},8,["label","modelValue"])]),_:1}),(u(!0),f(q,null,Q(d(D),a=>(u(),U(k,{key:a.prop,prop:a.prop,label:a.label,width:a.minWidth||null,align:a.align,"header-align":a.headerAlign},X({_:2},[a.prop==="pdImage"?{name:"default",fn:t(W=>[n("img",{src:W.row[a.prop],alt:"產品圖片",style:{width:"50px",height:"auto"}},null,8,le)]),key:"0"}:void 0]),1032,["prop","label","width","align","header-align"]))),128))]),_:1},8,["data"])]),_:1},8,["modelValue"])])}}};export{oe as default};
